---------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\emsuewil\Documents\Work\Covid\OpenSAFELY\Absolute_risks\absolute-risks-covid-research\logs/AL008_cox_regression_n
> oncovid.log
  log type:  text
 opened on:  12 Feb 2021, 18:18:58

. 
. 
. * Categories of various exposures
. local lo_ldr            = 0

. local hi_ldr            = 1

. local lo_ldr_cat        = 0

. local hi_ldr_cat        = 2

. local hi_ldr            = 1

. local lo_ldr_carecat= 0

. local hi_ldr_carecat= 2

. local lo_ds             = 0

. local hi_ds             = 1

. local lo_cp             = 0

. local hi_cp             = 1

. local lo_ldr_group      = 0

. local hi_ldr_group      = 5

. 
. * Open temporary file to post results
. tempfile ldrfile

. tempname ldrresults

. 
. postfile `ldrresults'   wave str15(exposure) str20(model)       ///
>                                                 expcat lnhr sehr using `ldrfile'

. 
. * Cycle over the two waves
. *    Wave 1: i=1  (1 Mar 20 - 31 Aug 20) 
. *    Wave 2: i=2  (1 Sept 20 - latest)
. forvalues i = 1 (1) 2 {
  2. 
.         * Open dataset (complete case ethnicity)
.         use "analysis/data_ldanalysis_cohort`i'.dta", clear 
  3.         drop if ethnicity_5>=.
  4. 
.         * Only keep data for adults
.         keep if child==0
  5.         
. 
.         /*  Declare data to be survival  */
.         stset stime_noncoviddeath`i', fail(noncoviddeath`i') scale(365.25)
  6. 
. 
.         * Cycle over exposures: learning disability register, by severity, 
.         *    Down's syndrome, Cerebral Palsy, and the combined grouping
.         foreach exp in ldr ldr_cat ldr_carecat ds cp ldr_group {
  7. 
.         
.                 /*  Obtain rates  */
.                 
.                 strate `exp',                                                                           ///
>                         output(analysis/data_temp_`exp'_`i', replace)   ///
>                         per(10000)
  8.         
.         
.                 /*  Fit Cox models  */
.                 
.                 * Confounder only model
.                 stcox i.`exp' age1 age2 age3 male i.ethnicity_5,        ///
>                         strata(stpcode) cluster(household_id) 
  9.                 forvalues k = `lo_`exp'' (1) `hi_`exp'' {
 10.                         capture qui di _b[`k'.`exp']
 11.                         if _rc==0 {
 12.                                 post `ldrresults' (`i') ("`exp'")                               ///
>                                         ("Confounders")                                                         ///
>                                         (`k') (_b[`k'.`exp']) (_se[`k'.`exp'])
 13.                         }
 14.                 }
 15.                 
.                 * Confounders with deprivation
.                 stcox i.`exp' age1 age2 age3 male i.ethnicity_5 imd, ///
>                         strata(stpcode) cluster(household_id) 
 16.                 forvalues k = `lo_`exp'' (1) `hi_`exp'' {
 17.                         capture qui di _b[`k'.`exp']
 18.                         if _rc==0 {
 19.                                 post `ldrresults' (`i') ("`exp'")                               ///
>                                         ("Confounders+IMD")                                             ///
>                                         (`k') (_b[`k'.`exp']) (_se[`k'.`exp'])
 20.                         }               
 21.                 }
 22.                 
.                 * Confounders with residential care
.                 stcox i.`exp' age1 age2 age3 male i.ethnicity_5 resid_care_ldr, ///
>                         strata(stpcode) cluster(household_id) 
 23.                 forvalues k = `lo_`exp'' (1) `hi_`exp'' {
 24.                         capture qui di _b[`k'.`exp']
 25.                         if _rc==0 {
 26.                                 post `ldrresults' (`i') ("`exp'")                               ///
>                                         ("Confounders+Resid")                                           ///
>                                         (`k') (_b[`k'.`exp']) (_se[`k'.`exp'])
 27.                         }               
 28.                 }
 29.                 
.                 * Confounders with physical comorbidities that are indicators for vaccination 
.                 stcox i.`exp' age1 age2 age3 male i.ethnicity_5         ///
>                                         cardiac af dvt_pe i.diabcat                             ///
>                                         liver stroke tia dementia                               ///
>                                         i.kidneyfn                                                              ///
>                                         spleen transplant dialysis                              ///
>                                         immunosuppression cancerHaem                    ///
>                                         autoimmune ibd cancerExhaem1yr,                 ///
>                         strata(stpcode) cluster(household_id) 
 30.                 forvalues k = `lo_`exp'' (1) `hi_`exp'' {
 31.                         capture qui di _b[`k'.`exp']
 32.                         if _rc==0 {
 33.                                 post `ldrresults' (`i') ("`exp'")                       ///
>                                         ("Confounders_Comorb")                                  ///
>                                         (`k') (_b[`k'.`exp']) (_se[`k'.`exp'])
 34.                         }
 35.                 }
 36.         }
 37.         
. }
(Analysis dataset, wave 1 (1 Mar - 31 Aug 20), for learning disability work)
(250 observations deleted)
(146 observations deleted)

     failure event:  noncoviddeath1 != 0 & noncoviddeath1 < .
obs. time interval:  (0, stime_noncoviddeath1]
 exit on or before:  failure
    t for analysis:  time/365.25

------------------------------------------------------------------------------
        604  total observations
          0  exclusions
------------------------------------------------------------------------------
        604  observations remaining, representing
         53  failures in single-record/single-failure data
    287.337  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =  .5037645

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Estimated failure rates
Number of records  =       604

  +----------------------------------------------+
  | ldr    D        Y     Rate    Lower    Upper |
  |----------------------------------------------|
  |   0   33   0.0178   1857.8   1320.8   2613.2 |
  |   1   20   0.0110   1823.0   1176.1   2825.7 |
  +----------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.65469
Iteration 2:   log pseudolikelihood = -151.61428
Iteration 3:   log pseudolikelihood = -151.61425
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.61425

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(9)     =        7.55
Log pseudolikelihood =   -151.61425             Prob > chi2      =      0.5802

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                  1.ldr |   .9090048   .2580026    -0.34   0.737     .5211585    1.585486
                   age1 |   .9802665   .0742804    -0.26   0.793     .8449748     1.13722
                   age2 |    .996796   .1815951    -0.02   0.986     .6974858    1.424548
                   age3 |   1.056242   .4810078     0.12   0.904     .4326437    2.578676
                   male |   1.677266   .4873882     1.78   0.075     .9489768    2.964478
                        |
            ethnicity_5 |
                 Mixed  |   .6136762   .3173767    -0.94   0.345     .2227003    1.691055
Asian or Asian British  |   .9708833    .434611    -0.07   0.947     .4037671     2.33455
                 Black  |   1.172268   .4666669     0.40   0.690     .5372456    2.557884
                 Other  |    1.15147   .4884632     0.33   0.740     .5013783    2.644475
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.11673
Iteration 2:   log pseudolikelihood = -151.07518
Iteration 3:   log pseudolikelihood = -151.07515
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.07515

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(10)    =        8.31
Log pseudolikelihood =   -151.07515             Prob > chi2      =      0.5989

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                  1.ldr |   .9154737   .2617102    -0.31   0.757     .5227685     1.60318
                   age1 |   .9852826   .0763166    -0.19   0.848     .8465052    1.146811
                   age2 |   .9847781   .1833846    -0.08   0.934     .6836414    1.418562
                   age3 |   1.088949   .5067062     0.18   0.855      .437451    2.710728
                   male |   1.683027   .4840336     1.81   0.070      .957829    2.957291
                        |
            ethnicity_5 |
                 Mixed  |    .621108    .322943    -0.92   0.360     .2241753    1.720864
Asian or Asian British  |   1.031197   .4713956     0.07   0.946     .4209477    2.526127
                 Black  |   1.212346   .4833829     0.48   0.629     .5549301    2.648592
                 Other  |   1.181678   .5036981     0.39   0.695     .5124702    2.724768
                        |
                    imd |   1.095331   .0898711     1.11   0.267       .93262    1.286429
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.37227
Iteration 2:   log pseudolikelihood = -151.24327
Iteration 3:   log pseudolikelihood =  -151.2105
Iteration 4:   log pseudolikelihood = -151.19855
Iteration 5:   log pseudolikelihood = -151.19417
Iteration 6:   log pseudolikelihood = -151.19256
Iteration 7:   log pseudolikelihood = -151.19197
Iteration 8:   log pseudolikelihood = -151.19175
Iteration 9:   log pseudolikelihood = -151.19167
Iteration 10:  log pseudolikelihood = -151.19164
Iteration 11:  log pseudolikelihood = -151.19163
Iteration 12:  log pseudolikelihood = -151.19162
Iteration 13:  log pseudolikelihood = -151.19162
Iteration 14:  log pseudolikelihood = -151.19162
Iteration 15:  log pseudolikelihood = -151.19162
Iteration 16:  log pseudolikelihood = -151.19162
Iteration 17:  log pseudolikelihood = -151.19162
Iteration 18:  log pseudolikelihood = -151.19162
Iteration 19:  log pseudolikelihood = -151.19162
Iteration 20:  log pseudolikelihood = -151.19162
Iteration 21:  log pseudolikelihood = -151.19162
Iteration 22:  log pseudolikelihood = -151.19162
Iteration 23:  log pseudolikelihood = -151.19162
Iteration 24:  log pseudolikelihood = -151.19162
Iteration 25:  log pseudolikelihood = -151.19162
Iteration 26:  log pseudolikelihood = -151.19162
Iteration 27:  log pseudolikelihood = -151.19162
Iteration 28:  log pseudolikelihood = -151.19162
Iteration 29:  log pseudolikelihood = -151.19162
Iteration 30:  log pseudolikelihood = -151.19162
Iteration 31:  log pseudolikelihood = -151.19162
Iteration 32:  log pseudolikelihood = -151.19162
Iteration 33:  log pseudolikelihood = -151.19162
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.19162
Iteration 1:   log pseudolikelihood = -151.19162
Iteration 2:   log pseudolikelihood = -151.19162

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(10)    =     1084.87
Log pseudolikelihood =   -151.19162             Prob > chi2      =      0.0000

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                  1.ldr |   .9261954   .2623302    -0.27   0.787     .5316346    1.613585
                   age1 |   .9757038   .0739733    -0.32   0.746     .8409765    1.132015
                   age2 |   1.008124   .1834402     0.04   0.965     .7057126    1.440126
                   age3 |   1.026998   .4669618     0.06   0.953     .4212504    2.503797
                   male |   1.682196   .4876218     1.79   0.073     .9530971    2.969042
                        |
            ethnicity_5 |
                 Mixed  |   .6107006   .3156244    -0.95   0.340     .2217723    1.681703
Asian or Asian British  |   .9924707    .441523    -0.02   0.986     .4149937    2.373525
                 Black  |   1.185506   .4717511     0.43   0.669     .5434795    2.585975
                 Other  |   1.149043   .4881148     0.33   0.744     .4997409    2.641969
                        |
         resid_care_ldr |   5.38e-16   5.87e-16   -32.19   0.000     6.32e-17    4.57e-15
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood =  -144.2422
Iteration 2:   log pseudolikelihood = -144.06604
Iteration 3:   log pseudolikelihood = -144.06228
Iteration 4:   log pseudolikelihood = -144.06094
Iteration 5:   log pseudolikelihood = -144.06045
Iteration 6:   log pseudolikelihood = -144.06027
Iteration 7:   log pseudolikelihood = -144.06021
Iteration 8:   log pseudolikelihood = -144.06018
Iteration 9:   log pseudolikelihood = -144.06017
Iteration 10:  log pseudolikelihood = -144.06017
Iteration 11:  log pseudolikelihood = -144.06017
Iteration 12:  log pseudolikelihood = -144.06017
Iteration 13:  log pseudolikelihood = -144.06017
Iteration 14:  log pseudolikelihood = -144.06017
Iteration 15:  log pseudolikelihood = -144.06017
Iteration 16:  log pseudolikelihood = -144.06017
Iteration 17:  log pseudolikelihood = -144.06017
Iteration 18:  log pseudolikelihood = -144.06017
Iteration 19:  log pseudolikelihood = -144.06017
Iteration 20:  log pseudolikelihood = -144.06017
Iteration 21:  log pseudolikelihood = -144.06017
Iteration 22:  log pseudolikelihood = -144.06017
Iteration 23:  log pseudolikelihood = -144.06017
Iteration 24:  log pseudolikelihood = -144.06017
Iteration 25:  log pseudolikelihood = -144.06017
Iteration 26:  log pseudolikelihood = -144.06017
Iteration 27:  log pseudolikelihood = -144.06017
Iteration 28:  log pseudolikelihood = -144.06017
Iteration 29:  log pseudolikelihood = -144.06017
Iteration 30:  log pseudolikelihood = -144.06017
Iteration 31:  log pseudolikelihood = -144.06017
Refining estimates:
Iteration 0:   log pseudolikelihood = -144.06017
Iteration 1:   log pseudolikelihood = -144.06017
Iteration 2:   log pseudolikelihood = -144.06017

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(29)    =      742.87
Log pseudolikelihood =   -144.06017             Prob > chi2      =      0.0000

                                        (Std. Err. adjusted for 416 clusters in household_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
                      1.ldr |   .9149191    .269983    -0.30   0.763     .5131001    1.631411
                       age1 |   .9892971   .0753808    -0.14   0.888     .8520564    1.148643
                       age2 |   .9712136     .17915    -0.16   0.874     .6765535    1.394207
                       age3 |    1.13157   .5213775     0.27   0.788     .4586541    2.791756
                       male |   1.969094   .6042254     2.21   0.027     1.079124    3.593036
                            |
                ethnicity_5 |
                     Mixed  |   .5219189   .2619224    -1.30   0.195     .1951784    1.395643
    Asian or Asian British  |   .8522462   .3965223    -0.34   0.731     .3423961    2.121296
                     Black  |   1.145161   .4878661     0.32   0.750       .49686    2.639361
                     Other  |   1.107303   .5223668     0.22   0.829     .4392533    2.791375
                            |
                    cardiac |   1.506564   .5077366     1.22   0.224     .7782495    2.916462
                         af |   1.201371   .4597933     0.48   0.632     .5674164     2.54362
                     dvt_pe |   .8587707   .3313919    -0.39   0.693     .4030939    1.829567
                            |
                    diabcat |
       Controlled diabetes  |   .8700159   .3060921    -0.40   0.692     .4365705    1.733804
     Uncontrolled diabetes  |   .6106028   .4487095    -0.67   0.502     .1446246    2.577955
Diabetes, no hba1c measure  |   9.73e-15   1.64e-14   -19.09   0.000     3.54e-16    2.67e-13
                            |
                      liver |   .9471998   .3330045    -0.15   0.877     .4755399    1.886671
                     stroke |   1.469227   .5237905     1.08   0.281      .730515     2.95494
                        tia |   .6164713   .2563973    -1.16   0.245     .2728278    1.392955
                   dementia |   .5196588   .2212107    -1.54   0.124     .2256186     1.19691
                            |
                   kidneyfn |
    Stage 3a/3b egfr 30-60  |   3.469712   3.734157     1.16   0.248     .4209371    28.60024
         Stage 4/5 egfr<30  |   1.149958    .527514     0.30   0.761     .4679667     2.82585
                            |
                     spleen |   .4952005   .1594428    -2.18   0.029     .2634598    .9307816
                 transplant |   1.087835   .3849148     0.24   0.812     .5437225    2.176449
                   dialysis |   1.138547   .6452959     0.23   0.819     .3748989    3.457703
          immunosuppression |   1.057484   .3175548     0.19   0.852     .5870351     1.90495
                 cancerHaem |   .9522916   .1166015    -0.40   0.690     .7491111     1.21058
                 autoimmune |   .7918058   .2870733    -0.64   0.520     .3890552    1.611485
                        ibd |   1.144616   .4321524     0.36   0.721     .5461182    2.399014
            cancerExhaem1yr |   4.075656   3.697159     1.55   0.121     .6887242    24.11847
---------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Estimated failure rates
Number of records  =       604

  +-----------------------------------------------------------+
  |       ldr_cat    D        Y      Rate     Lower     Upper |
  |-----------------------------------------------------------|
  |    Not on LDR   33   0.0178   1857.80   1320.76   2613.22 |
  |     LDR, mild   14   0.0086   1637.00    969.52   2764.03 |
  | LDR, profound    6   0.0024   2480.76   1114.51   5521.86 |
  +-----------------------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.38128
Iteration 2:   log pseudolikelihood =  -151.3422
Iteration 3:   log pseudolikelihood = -151.34217
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.34217

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(10)    =        8.71
Log pseudolikelihood =   -151.34217             Prob > chi2      =      0.5603

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                ldr_cat |
             LDR, mild  |   .8195646   .2617821    -0.62   0.533     .4382236    1.532747
         LDR, profound  |   1.199103   .5546857     0.39   0.695     .4842885    2.968989
                        |
                   age1 |   .9782599   .0740503    -0.29   0.772      .843377    1.134715
                   age2 |   1.000963   .1824772     0.01   0.996     .7002327    1.430848
                   age3 |   1.047256   .4774035     0.10   0.919     .4285709    2.559073
                   male |   1.669127   .4857003     1.76   0.078     .9436214     2.95244
                        |
            ethnicity_5 |
                 Mixed  |    .610924   .3168879    -0.95   0.342     .2210378    1.688526
Asian or Asian British  |    .986523      .4424    -0.03   0.976     .4096295    2.375873
                 Black  |   1.166114   .4648561     0.39   0.700     .5338517     2.54719
                 Other  |   1.165952   .4920995     0.36   0.716     .5098286    2.666473
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -150.88974
Iteration 2:   log pseudolikelihood = -150.84537
Iteration 3:   log pseudolikelihood = -150.84535
Refining estimates:
Iteration 0:   log pseudolikelihood = -150.84535

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(11)    =        9.40
Log pseudolikelihood =   -150.84535             Prob > chi2      =      0.5846

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                ldr_cat |
             LDR, mild  |   .8307457   .2679928    -0.57   0.565     .4414447    1.563363
         LDR, profound  |    1.17961   .5451442     0.36   0.721     .4768314    2.918181
                        |
                   age1 |   .9832662   .0760042    -0.22   0.827      .845036    1.144108
                   age2 |   .9891346   .1841862    -0.06   0.953     .6866788    1.424811
                   age3 |   1.078606    .502104     0.16   0.871     .4331303    2.686008
                   male |   1.673015   .4819767     1.79   0.074     .9512141    2.942533
                        |
            ethnicity_5 |
                 Mixed  |   .6180128   .3227525    -0.92   0.357     .2220567     1.72001
Asian or Asian British  |   1.045548   .4793187     0.10   0.923     .4257172    2.567834
                 Black  |   1.202014   .4818258     0.46   0.646     .5479065    2.637015
                 Other  |   1.191119   .5053183     0.41   0.680     .5186122    2.735694
                        |
                    imd |   1.091536   .0894349     1.07   0.285     .9295975    1.281685
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.10029
Iteration 2:   log pseudolikelihood = -150.97254
Iteration 3:   log pseudolikelihood = -150.93984
Iteration 4:   log pseudolikelihood =  -150.9279
Iteration 5:   log pseudolikelihood = -150.92353
Iteration 6:   log pseudolikelihood = -150.92192
Iteration 7:   log pseudolikelihood = -150.92133
Iteration 8:   log pseudolikelihood = -150.92111
Iteration 9:   log pseudolikelihood = -150.92103
Iteration 10:  log pseudolikelihood =   -150.921
Iteration 11:  log pseudolikelihood = -150.92099
Iteration 12:  log pseudolikelihood = -150.92098
Iteration 13:  log pseudolikelihood = -150.92098
Iteration 14:  log pseudolikelihood = -150.92098
Iteration 15:  log pseudolikelihood = -150.92098
Iteration 16:  log pseudolikelihood = -150.92098
Iteration 17:  log pseudolikelihood = -150.92098
Iteration 18:  log pseudolikelihood = -150.92098
Iteration 19:  log pseudolikelihood = -150.92098
Iteration 20:  log pseudolikelihood = -150.92098
Iteration 21:  log pseudolikelihood = -150.92098
Iteration 22:  log pseudolikelihood = -150.92098
Iteration 23:  log pseudolikelihood = -150.92098
Iteration 24:  log pseudolikelihood = -150.92098
Iteration 25:  log pseudolikelihood = -150.92098
Iteration 26:  log pseudolikelihood = -150.92098
Iteration 27:  log pseudolikelihood = -150.92098
Iteration 28:  log pseudolikelihood = -150.92098
Iteration 29:  log pseudolikelihood = -150.92098
Iteration 30:  log pseudolikelihood = -150.92098
Iteration 31:  log pseudolikelihood = -150.92098
Iteration 32:  log pseudolikelihood = -150.92098
Iteration 33:  log pseudolikelihood = -150.92098
Refining estimates:
Iteration 0:   log pseudolikelihood = -150.92098
Iteration 1:   log pseudolikelihood = -150.92098

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(11)    =     1027.01
Log pseudolikelihood =   -150.92098             Prob > chi2      =      0.0000

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                ldr_cat |
             LDR, mild  |   .8356831   .2656382    -0.56   0.572     .4481987    1.558162
         LDR, profound  |   1.220868   .5646769     0.43   0.666     .4931398    3.022506
                        |
                   age1 |   .9740423   .0737921    -0.35   0.728     .8396378    1.129962
                   age2 |   1.011524    .184203     0.06   0.950     .7078942    1.445385
                   age3 |   1.020234   .4643761     0.04   0.965     .4180823    2.489648
                   male |   1.673054   .4856302     1.77   0.076     .9471857    2.955184
                        |
            ethnicity_5 |
                 Mixed  |   .6083699   .3152682    -0.96   0.338      .220323     1.67987
Asian or Asian British  |   1.007523   .4493214     0.02   0.987     .4203852    2.414695
                 Black  |   1.181098   .4701369     0.42   0.676     .5413331    2.576958
                 Other  |   1.163475   .4917174     0.36   0.720      .508177    2.663783
                        |
         resid_care_ldr |   1.47e-15   1.60e-15   -31.26   0.000     1.72e-16    1.25e-14
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -144.19204
Iteration 2:   log pseudolikelihood =  -144.0265
Iteration 3:   log pseudolikelihood = -144.02275
Iteration 4:   log pseudolikelihood = -144.02141
Iteration 5:   log pseudolikelihood = -144.02092
Iteration 6:   log pseudolikelihood = -144.02074
Iteration 7:   log pseudolikelihood = -144.02067
Iteration 8:   log pseudolikelihood = -144.02065
Iteration 9:   log pseudolikelihood = -144.02064
Iteration 10:  log pseudolikelihood = -144.02064
Iteration 11:  log pseudolikelihood = -144.02063
Iteration 12:  log pseudolikelihood = -144.02063
Iteration 13:  log pseudolikelihood = -144.02063
Iteration 14:  log pseudolikelihood = -144.02063
Iteration 15:  log pseudolikelihood = -144.02063
Iteration 16:  log pseudolikelihood = -144.02063
Iteration 17:  log pseudolikelihood = -144.02063
Iteration 18:  log pseudolikelihood = -144.02063
Iteration 19:  log pseudolikelihood = -144.02063
Iteration 20:  log pseudolikelihood = -144.02063
Iteration 21:  log pseudolikelihood = -144.02063
Iteration 22:  log pseudolikelihood = -144.02063
Iteration 23:  log pseudolikelihood = -144.02063
Iteration 24:  log pseudolikelihood = -144.02063
Iteration 25:  log pseudolikelihood = -144.02063
Iteration 26:  log pseudolikelihood = -144.02063
Iteration 27:  log pseudolikelihood = -144.02063
Iteration 28:  log pseudolikelihood = -144.02063
Iteration 29:  log pseudolikelihood = -144.02063
Refining estimates:
Iteration 0:   log pseudolikelihood = -144.02063
Iteration 1:   log pseudolikelihood = -144.02063
Iteration 2:   log pseudolikelihood = -144.02063

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(30)    =      660.12
Log pseudolikelihood =   -144.02063             Prob > chi2      =      0.0000

                                        (Std. Err. adjusted for 416 clusters in household_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
                    ldr_cat |
                 LDR, mild  |   .8778656   .2821324    -0.41   0.685     .4675898    1.648128
             LDR, profound  |   1.020104   .5143643     0.04   0.969     .3797045    2.740586
                            |
                       age1 |   .9882968   .0754813    -0.15   0.878     .8508966    1.147884
                       age2 |   .9731817   .1800693    -0.15   0.883     .6771655    1.398598
                       age3 |   1.127152   .5207859     0.26   0.796     .4557176    2.787848
                       male |   1.957281   .6041832     2.18   0.030     1.068809    3.584316
                            |
                ethnicity_5 |
                     Mixed  |   .5237707   .2632381    -1.29   0.198     .1955879    1.402621
    Asian or Asian British  |   .8613426   .4025177    -0.32   0.749     .3446651    2.152557
                     Black  |   1.150758    .489892     0.33   0.742     .4995934    2.650642
                     Other  |    1.11564   .5249471     0.23   0.816     .4436129    2.805716
                            |
                    cardiac |   1.514546   .5124192     1.23   0.220     .7803582    2.939484
                         af |   1.195639   .4528052     0.47   0.637     .5691648    2.511666
                     dvt_pe |    .852386   .3272496    -0.42   0.677     .4016441    1.808969
                            |
                    diabcat |
       Controlled diabetes  |   .8706922   .3064068    -0.39   0.694     .4368344    1.735452
     Uncontrolled diabetes  |   .6120192   .4458789    -0.67   0.500     .1467685    2.552097
Diabetes, no hba1c measure  |   7.04e-14   1.19e-13   -17.89   0.000     2.55e-15    1.94e-12
                            |
                      liver |    .951647   .3335952    -0.14   0.888     .4787308    1.891735
                     stroke |   1.480486   .5340235     1.09   0.277     .7300773    3.002201
                        tia |   .6216771   .2625642    -1.13   0.260     .2716824    1.422552
                   dementia |   .5257707    .224295    -1.51   0.132      .227862    1.213168
                            |
                   kidneyfn |
    Stage 3a/3b egfr 30-60  |   3.443565   3.762178     1.13   0.258     .4046223    29.30669
         Stage 4/5 egfr<30  |   1.157814   .5303891     0.32   0.749     .4717454    2.841647
                            |
                     spleen |   .4992529   .1616089    -2.15   0.032     .2647191     .941577
                 transplant |     1.0749   .3839631     0.20   0.840     .5337178    2.164832
                   dialysis |   1.111693   .6397624     0.18   0.854     .3598579    3.434302
          immunosuppression |   1.061589   .3216526     0.20   0.844      .586205    1.922487
                 cancerHaem |   .9523872   .1175248    -0.40   0.693     .7477822    1.212975
                 autoimmune |   .7944355   .2886201    -0.63   0.526     .3897762    1.619205
                        ibd |   1.142939   .4326232     0.35   0.724     .5442866    2.400039
            cancerExhaem1yr |   4.126534   3.755623     1.56   0.119     .6932558    24.56277
---------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Estimated failure rates
Number of records  =       604

  +-----------------------------------------------------------------------+
  |                  ldr_carecat    D        Y     Rate    Lower    Upper |
  |-----------------------------------------------------------------------|
  |                   Not on LDR   33   0.0178   1857.8   1320.8   2613.2 |
  | LDR, not in residential care   20   0.0107   1865.9   1203.8   2892.1 |
  |     LDR, in residential care    0   0.0003      0.0        .        . |
  +-----------------------------------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.44644
Iteration 2:   log pseudolikelihood = -151.34001
Iteration 3:   log pseudolikelihood =  -151.3155
Iteration 4:   log pseudolikelihood = -151.30657
Iteration 5:   log pseudolikelihood = -151.30329
Iteration 6:   log pseudolikelihood = -151.30209
Iteration 7:   log pseudolikelihood = -151.30165
Iteration 8:   log pseudolikelihood = -151.30148
Iteration 9:   log pseudolikelihood = -151.30142
Iteration 10:  log pseudolikelihood =  -151.3014
Iteration 11:  log pseudolikelihood = -151.30139
Iteration 12:  log pseudolikelihood = -151.30139
Iteration 13:  log pseudolikelihood = -151.30139
Iteration 14:  log pseudolikelihood = -151.30139
Iteration 15:  log pseudolikelihood = -151.30139
Iteration 16:  log pseudolikelihood = -151.30139
Iteration 17:  log pseudolikelihood = -151.30139
Iteration 18:  log pseudolikelihood = -151.30139
Iteration 19:  log pseudolikelihood = -151.30139
Iteration 20:  log pseudolikelihood = -151.30139
Iteration 21:  log pseudolikelihood = -151.30139
Iteration 22:  log pseudolikelihood = -151.30139
Iteration 23:  log pseudolikelihood = -151.30139
Iteration 24:  log pseudolikelihood = -151.30139
Iteration 25:  log pseudolikelihood = -151.30139
Iteration 26:  log pseudolikelihood = -151.30139
Iteration 27:  log pseudolikelihood = -151.30139
Iteration 28:  log pseudolikelihood = -151.30139
Iteration 29:  log pseudolikelihood = -151.30139
Iteration 30:  log pseudolikelihood = -151.30139
Iteration 31:  log pseudolikelihood = -151.30139
Iteration 32:  log pseudolikelihood = -151.30139
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.30139
Iteration 1:   log pseudolikelihood = -151.30139
Iteration 2:   log pseudolikelihood = -151.30139

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(10)    =      973.92
Log pseudolikelihood =   -151.30139             Prob > chi2      =      0.0000

                                          (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------------
                              |               Robust
                           _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------------+----------------------------------------------------------------
                  ldr_carecat |
LDR, not in residential care  |   .9269798   .2627327    -0.27   0.789      .531882    1.615568
    LDR, in residential care  |   1.36e-15   1.52e-15   -30.53   0.000     1.51e-16    1.22e-14
                              |
                         age1 |   .9765024    .073939    -0.31   0.753      .841825    1.132726
                         age2 |   1.005731   .1825854     0.03   0.975     .7046126    1.435533
                         age3 |   1.033188   .4686222     0.07   0.943     .4247181     2.51338
                         male |   1.678391    .486744     1.79   0.074     .9506908    2.963104
                              |
                  ethnicity_5 |
                       Mixed  |    .610695   .3156513    -0.95   0.340     .2217492    1.681848
      Asian or Asian British  |   .9933264   .4419346    -0.02   0.988     .4153261    2.375717
                       Black  |   1.176061   .4678151     0.41   0.684     .5393092    2.564613
                       Other  |   1.148548   .4879866     0.33   0.744     .4994559    2.641201
-----------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -150.93139
Iteration 2:   log pseudolikelihood = -150.82407
Iteration 3:   log pseudolikelihood = -150.79986
Iteration 4:   log pseudolikelihood = -150.79104
Iteration 5:   log pseudolikelihood = -150.78781
Iteration 6:   log pseudolikelihood = -150.78662
Iteration 7:   log pseudolikelihood = -150.78618
Iteration 8:   log pseudolikelihood = -150.78602
Iteration 9:   log pseudolikelihood = -150.78596
Iteration 10:  log pseudolikelihood = -150.78594
Iteration 11:  log pseudolikelihood = -150.78593
Iteration 12:  log pseudolikelihood = -150.78593
Iteration 13:  log pseudolikelihood = -150.78593
Iteration 14:  log pseudolikelihood = -150.78593
Iteration 15:  log pseudolikelihood = -150.78593
Iteration 16:  log pseudolikelihood = -150.78593
Iteration 17:  log pseudolikelihood = -150.78593
Iteration 18:  log pseudolikelihood = -150.78593
Iteration 19:  log pseudolikelihood = -150.78593
Iteration 20:  log pseudolikelihood = -150.78593
Iteration 21:  log pseudolikelihood = -150.78593
Iteration 22:  log pseudolikelihood = -150.78593
Iteration 23:  log pseudolikelihood = -150.78593
Iteration 24:  log pseudolikelihood = -150.78593
Iteration 25:  log pseudolikelihood = -150.78593
Iteration 26:  log pseudolikelihood = -150.78593
Iteration 27:  log pseudolikelihood = -150.78593
Iteration 28:  log pseudolikelihood = -150.78593
Iteration 29:  log pseudolikelihood = -150.78593
Iteration 30:  log pseudolikelihood = -150.78593
Iteration 31:  log pseudolikelihood = -150.78593
Iteration 32:  log pseudolikelihood = -150.78593
Iteration 33:  log pseudolikelihood = -150.78593
Iteration 34:  log pseudolikelihood = -150.78593
Iteration 35:  log pseudolikelihood = -150.78593
Refining estimates:
Iteration 0:   log pseudolikelihood = -150.78593
Iteration 1:   log pseudolikelihood = -150.78593

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(11)    =     1099.44
Log pseudolikelihood =   -150.78593             Prob > chi2      =      0.0000

                                          (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------------
                              |               Robust
                           _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------------+----------------------------------------------------------------
                  ldr_carecat |
LDR, not in residential care  |   .9322639   .2665483    -0.25   0.806     .5323136    1.632714
    LDR, in residential care  |   1.98e-16   2.21e-16   -32.41   0.000     2.23e-17    1.76e-15
                              |
                         age1 |   .9816483   .0760337    -0.24   0.811     .8433853    1.142578
                         age2 |   .9933182   .1844655    -0.04   0.971     .6902634    1.429427
                         age3 |   1.065848   .4942897     0.14   0.891     .4294857    2.645101
                         male |   1.685113   .4840907     1.82   0.069     .9596221    2.959088
                              |
                  ethnicity_5 |
                       Mixed  |   .6183329   .3212012    -0.93   0.355     .2233852    1.711553
      Asian or Asian British  |   1.052388   .4786536     0.11   0.911     .4315462    2.566402
                       Black  |   1.214804   .4836381     0.49   0.625      .556706     2.65086
                       Other  |   1.178306   .5025079     0.38   0.700      .510798     2.71811
                              |
                          imd |   1.093117    .089612     1.09   0.277     .9308649    1.283651
-----------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.37227
Iteration 2:   log pseudolikelihood = -151.24327
Iteration 3:   log pseudolikelihood =  -151.2105
Iteration 4:   log pseudolikelihood = -151.19855
Iteration 5:   log pseudolikelihood = -151.19417
Iteration 6:   log pseudolikelihood = -151.19256
Iteration 7:   log pseudolikelihood = -151.19197
Iteration 8:   log pseudolikelihood = -151.19175
Iteration 9:   log pseudolikelihood = -151.19167
Iteration 10:  log pseudolikelihood = -151.19164
Iteration 11:  log pseudolikelihood = -151.19163
Iteration 12:  log pseudolikelihood = -151.19162
Iteration 13:  log pseudolikelihood = -151.19162
Iteration 14:  log pseudolikelihood = -151.19162
Iteration 15:  log pseudolikelihood = -151.19162
Iteration 16:  log pseudolikelihood = -151.19162
Iteration 17:  log pseudolikelihood = -151.19162
Iteration 18:  log pseudolikelihood = -151.19162
Iteration 19:  log pseudolikelihood = -151.19162
Iteration 20:  log pseudolikelihood = -151.19162
Iteration 21:  log pseudolikelihood = -151.19162
Iteration 22:  log pseudolikelihood = -151.19162
Iteration 23:  log pseudolikelihood = -151.19162
Iteration 24:  log pseudolikelihood = -151.19162
Iteration 25:  log pseudolikelihood = -151.19162
Iteration 26:  log pseudolikelihood = -151.19162
Iteration 27:  log pseudolikelihood = -151.19162
Iteration 28:  log pseudolikelihood = -151.19162
Iteration 29:  log pseudolikelihood = -151.19162
Iteration 30:  log pseudolikelihood = -151.19162
Iteration 31:  log pseudolikelihood = -151.19162
Iteration 32:  log pseudolikelihood = -151.19162
Iteration 33:  log pseudolikelihood = -151.19162
Iteration 34:  log pseudolikelihood = -151.19162
Iteration 35:  log pseudolikelihood = -151.19162
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.19162
Iteration 1:   log pseudolikelihood = -151.19162
Iteration 2:   log pseudolikelihood = -151.19162

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(11)    =     1214.28
Log pseudolikelihood =   -151.19162             Prob > chi2      =      0.0000

                                          (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------------
                              |               Robust
                           _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------------+----------------------------------------------------------------
                  ldr_carecat |
LDR, not in residential care  |   .9261954   .2623302    -0.27   0.787     .5316346    1.613585
    LDR, in residential care  |   .9391054   .8961295    -0.07   0.948     .1446992    6.094845
                              |
                         age1 |   .9757038   .0739733    -0.32   0.746     .8409765    1.132015
                         age2 |   1.008124   .1834402     0.04   0.965     .7057126    1.440126
                         age3 |   1.026998   .4669618     0.06   0.953     .4212504    2.503797
                         male |   1.682196   .4876218     1.79   0.073     .9530971    2.969042
                              |
                  ethnicity_5 |
                       Mixed  |   .6107006   .3156244    -0.95   0.340     .2217723    1.681703
      Asian or Asian British  |   .9924707    .441523    -0.02   0.986     .4149937    2.373525
                       Black  |   1.185506   .4717511     0.43   0.669     .5434795    2.585975
                       Other  |   1.149043   .4881148     0.33   0.744     .4997409    2.641969
                              |
               resid_care_ldr |   7.20e-17   9.42e-17   -28.43   0.000     5.55e-18    9.34e-16
-----------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -144.12844
Iteration 2:   log pseudolikelihood = -143.88649
Iteration 3:   log pseudolikelihood =    -143.86
Iteration 4:   log pseudolikelihood =  -143.8504
Iteration 5:   log pseudolikelihood = -143.84688
Iteration 6:   log pseudolikelihood = -143.84559
Iteration 7:   log pseudolikelihood = -143.84511
Iteration 8:   log pseudolikelihood = -143.84494
Iteration 9:   log pseudolikelihood = -143.84487
Iteration 10:  log pseudolikelihood = -143.84485
Iteration 11:  log pseudolikelihood = -143.84484
Iteration 12:  log pseudolikelihood = -143.84484
Iteration 13:  log pseudolikelihood = -143.84483
Iteration 14:  log pseudolikelihood = -143.84483
Iteration 15:  log pseudolikelihood = -143.84483
Iteration 16:  log pseudolikelihood = -143.84483
Iteration 17:  log pseudolikelihood = -143.84483
Iteration 18:  log pseudolikelihood = -143.84483
Iteration 19:  log pseudolikelihood = -143.84483
Iteration 20:  log pseudolikelihood = -143.84483
Iteration 21:  log pseudolikelihood = -143.84483
Iteration 22:  log pseudolikelihood = -143.84483
Iteration 23:  log pseudolikelihood = -143.84483
Iteration 24:  log pseudolikelihood = -143.84483
Iteration 25:  log pseudolikelihood = -143.84483
Iteration 26:  log pseudolikelihood = -143.84483
Iteration 27:  log pseudolikelihood = -143.84483
Iteration 28:  log pseudolikelihood = -143.84483
Iteration 29:  log pseudolikelihood = -143.84483
Iteration 30:  log pseudolikelihood = -143.84483
Iteration 31:  log pseudolikelihood = -143.84483
Iteration 32:  log pseudolikelihood = -143.84483
Refining estimates:
Iteration 0:   log pseudolikelihood = -143.84483
Iteration 1:   log pseudolikelihood = -143.84483
Iteration 2:   log pseudolikelihood = -143.84483

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(30)    =     1582.36
Log pseudolikelihood =   -143.84483             Prob > chi2      =      0.0000

                                          (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------------
                              |               Robust
                           _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------------+----------------------------------------------------------------
                  ldr_carecat |
LDR, not in residential care  |   .9290346   .2743475    -0.25   0.803     .5207974    1.657276
    LDR, in residential care  |   1.83e-15   2.17e-15   -28.70   0.000     1.81e-16    1.86e-14
                              |
                         age1 |   .9854775   .0747825    -0.19   0.847     .8492854    1.143509
                         age2 |     .97993   .1797113    -0.11   0.912     .6840558    1.403778
                         age3 |   1.106946   .5070618     0.22   0.824     .4510388    2.716681
                         male |   1.967079   .6027255     2.21   0.027     1.078967    3.586207
                              |
                  ethnicity_5 |
                       Mixed  |   .5188303   .2601535    -1.31   0.191     .1941839    1.386237
      Asian or Asian British  |    .867014   .4007348    -0.31   0.758     .3504289    2.145124
                       Black  |   1.141589   .4876463     0.31   0.757     .4942046    2.637017
                       Other  |   1.102702   .5197637     0.21   0.836     .4377642     2.77764
                              |
                      cardiac |   1.514012   .5114784     1.23   0.220     .7808506    2.935557
                           af |   1.190683   .4543436     0.46   0.647     .5636282    2.515357
                       dvt_pe |   .8679358   .3348404    -0.37   0.714      .407477    1.848724
                              |
                      diabcat |
         Controlled diabetes  |   .8619176   .3047983    -0.42   0.674     .4309798    1.723751
       Uncontrolled diabetes  |    .607597   .4466995    -0.68   0.498     .1438203    2.566911
  Diabetes, no hba1c measure  |   3.27e-15   5.52e-15   -19.75   0.000     1.19e-16    8.95e-14
                              |
                        liver |   .9448848   .3312726    -0.16   0.872     .4752818     1.87848
                       stroke |   1.459219   .5163908     1.07   0.286     .7292825    2.919746
                          tia |   .6188833   .2566471    -1.16   0.247     .2745495    1.395073
                     dementia |   .5208008   .2214521    -1.53   0.125     .2263227    1.198436
                              |
                     kidneyfn |
      Stage 3a/3b egfr 30-60  |   3.457735   3.693189     1.16   0.245     .4262139    28.05148
           Stage 4/5 egfr<30  |   1.146569   .5243241     0.30   0.765     .4678935    2.809657
                              |
                       spleen |    .500713   .1619294    -2.14   0.032     .2656515    .9437685
                   transplant |   1.082182   .3835444     0.22   0.824     .5402804     2.16761
                     dialysis |   1.134275   .6426167     0.22   0.824      .373659    3.443194
            immunosuppression |   1.063137   .3191855     0.20   0.838     .5902457    1.914897
                   cancerHaem |   .9505108   .1166216    -0.41   0.679     .7473431     1.20891
                   autoimmune |   .7877612   .2851939    -0.66   0.510     .3874657    1.601607
                          ibd |   1.144959   .4341348     0.36   0.721     .5445519    2.407357
              cancerExhaem1yr |   4.082627   3.700671     1.55   0.121     .6908336    24.12715
-----------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Estimated failure rates
Number of records  =       604

  +---------------------------------------------+
  | ds    D        Y     Rate    Lower    Upper |
  |---------------------------------------------|
  |  0   42   0.0230   1825.1   1348.8   2469.6 |
  |  1   11   0.0057   1922.6   1064.8   3471.7 |
  +---------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.70144
Iteration 2:   log pseudolikelihood = -151.66103
Iteration 3:   log pseudolikelihood = -151.66099
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.66099

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(9)     =        7.59
Log pseudolikelihood =   -151.66099             Prob > chi2      =      0.5764

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.ds |   .9658795    .332504    -0.10   0.920     .4919227    1.896483
                   age1 |   .9779685   .0740719    -0.29   0.769      .843052    1.134476
                   age2 |    1.00274   .1821936     0.02   0.988     .7023098    1.431687
                   age3 |   1.040543   .4720622     0.09   0.930     .4276578    2.531768
                   male |   1.685866   .4885814     1.80   0.072      .955292    2.975158
                        |
            ethnicity_5 |
                 Mixed  |    .613164    .316979    -0.95   0.344     .2226089    1.688926
Asian or Asian British  |   .9672248   .4324657    -0.07   0.941     .4026596    2.323362
                 Black  |   1.179469   .4702672     0.41   0.679     .5398878    2.576736
                 Other  |   1.144252   .4849088     0.32   0.751      .498656    2.625682
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.14934
Iteration 2:   log pseudolikelihood = -151.10628
Iteration 3:   log pseudolikelihood = -151.10625
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.10625

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(10)    =        8.35
Log pseudolikelihood =   -151.10625             Prob > chi2      =      0.5951

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.ds |   .9443741   .3302039    -0.16   0.870     .4759028    1.874001
                   age1 |   .9827768   .0762482    -0.22   0.823     .8441407    1.144181
                   age2 |   .9910715   .1843695    -0.05   0.962     .6882648      1.4271
                   age3 |   1.071642   .4974121     0.15   0.881     .4314762    2.661598
                   male |   1.691986   .4854663     1.83   0.067     .9642048    2.969097
                        |
            ethnicity_5 |
                 Mixed  |   .6194219   .3232439    -0.92   0.359     .2227353    1.722599
Asian or Asian British  |   1.028659   .4694366     0.06   0.951     .4205512    2.516077
                 Black  |   1.219741   .4870593     0.50   0.619     .5576622    2.667866
                 Other  |   1.177669   .5005824     0.38   0.700     .5119291    2.709173
                        |
                    imd |   1.097027   .0906932     1.12   0.263     .9329253    1.289994
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.40264
Iteration 2:   log pseudolikelihood = -151.27284
Iteration 3:   log pseudolikelihood = -151.23991
Iteration 4:   log pseudolikelihood =  -151.2279
Iteration 5:   log pseudolikelihood =  -151.2235
Iteration 6:   log pseudolikelihood = -151.22188
Iteration 7:   log pseudolikelihood = -151.22128
Iteration 8:   log pseudolikelihood = -151.22106
Iteration 9:   log pseudolikelihood = -151.22098
Iteration 10:  log pseudolikelihood = -151.22095
Iteration 11:  log pseudolikelihood = -151.22094
Iteration 12:  log pseudolikelihood = -151.22094
Iteration 13:  log pseudolikelihood = -151.22094
Iteration 14:  log pseudolikelihood = -151.22094
Iteration 15:  log pseudolikelihood = -151.22094
Iteration 16:  log pseudolikelihood = -151.22094
Iteration 17:  log pseudolikelihood = -151.22094
Iteration 18:  log pseudolikelihood = -151.22094
Iteration 19:  log pseudolikelihood = -151.22094
Iteration 20:  log pseudolikelihood = -151.22094
Iteration 21:  log pseudolikelihood = -151.22094
Iteration 22:  log pseudolikelihood = -151.22094
Iteration 23:  log pseudolikelihood = -151.22094
Iteration 24:  log pseudolikelihood = -151.22094
Iteration 25:  log pseudolikelihood = -151.22094
Iteration 26:  log pseudolikelihood = -151.22094
Iteration 27:  log pseudolikelihood = -151.22094
Iteration 28:  log pseudolikelihood = -151.22094
Iteration 29:  log pseudolikelihood = -151.22094
Iteration 30:  log pseudolikelihood = -151.22094
Iteration 31:  log pseudolikelihood = -151.22094
Iteration 32:  log pseudolikelihood = -151.22094
Iteration 33:  log pseudolikelihood = -151.22094
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.22094
Iteration 1:   log pseudolikelihood = -151.22094

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(10)    =     1019.95
Log pseudolikelihood =   -151.22094             Prob > chi2      =      0.0000

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.ds |   .9694504   .3356301    -0.09   0.929     .4918515    1.910809
                   age1 |   .9736192   .0737444    -0.35   0.724     .8392995    1.129435
                   age2 |   1.013498   .1837675     0.07   0.941     .7103675    1.445982
                   age3 |   1.013416    .458576     0.03   0.977     .4174596    2.460146
                   male |    1.68945   .4880669     1.82   0.069     .9590495    2.976116
                        |
            ethnicity_5 |
                 Mixed  |   .6100161   .3154341    -0.96   0.339     .2214075      1.6807
Asian or Asian British  |   .9912168   .4401121    -0.02   0.984     .4151691    2.366531
                 Black  |   1.191346   .4748335     0.44   0.660      .545476    2.601959
                 Other  |    1.14379   .4853266     0.32   0.752     .4979307    2.627383
                        |
         resid_care_ldr |   1.41e-15   1.54e-15   -31.32   0.000     1.66e-16    1.20e-14
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -144.28831
Iteration 2:   log pseudolikelihood = -144.10488
Iteration 3:   log pseudolikelihood = -144.10111
Iteration 4:   log pseudolikelihood = -144.09977
Iteration 5:   log pseudolikelihood = -144.09928
Iteration 6:   log pseudolikelihood =  -144.0991
Iteration 7:   log pseudolikelihood = -144.09904
Iteration 8:   log pseudolikelihood = -144.09901
Iteration 9:   log pseudolikelihood =   -144.099
Iteration 10:  log pseudolikelihood =   -144.099
Iteration 11:  log pseudolikelihood =   -144.099
Iteration 12:  log pseudolikelihood =   -144.099
Iteration 13:  log pseudolikelihood =   -144.099
Iteration 14:  log pseudolikelihood =   -144.099
Iteration 15:  log pseudolikelihood =   -144.099
Iteration 16:  log pseudolikelihood =   -144.099
Iteration 17:  log pseudolikelihood =   -144.099
Iteration 18:  log pseudolikelihood =   -144.099
Iteration 19:  log pseudolikelihood =   -144.099
Iteration 20:  log pseudolikelihood =   -144.099
Iteration 21:  log pseudolikelihood =   -144.099
Iteration 22:  log pseudolikelihood =   -144.099
Iteration 23:  log pseudolikelihood =   -144.099
Iteration 24:  log pseudolikelihood =   -144.099
Iteration 25:  log pseudolikelihood =   -144.099
Iteration 26:  log pseudolikelihood =   -144.099
Iteration 27:  log pseudolikelihood =   -144.099
Iteration 28:  log pseudolikelihood =   -144.099
Iteration 29:  log pseudolikelihood =   -144.099
Iteration 30:  log pseudolikelihood =   -144.099
Iteration 31:  log pseudolikelihood =   -144.099
Iteration 32:  log pseudolikelihood =   -144.099
Iteration 33:  log pseudolikelihood =   -144.099
Refining estimates:
Iteration 0:   log pseudolikelihood =   -144.099
Iteration 1:   log pseudolikelihood =   -144.099

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(29)    =      766.11
Log pseudolikelihood =     -144.099             Prob > chi2      =      0.0000

                                        (Std. Err. adjusted for 416 clusters in household_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
                       1.ds |   .9731933   .3420951    -0.08   0.938     .4886369     1.93826
                       age1 |   .9867853   .0757058    -0.17   0.862     .8490217    1.146903
                       age2 |   .9772134   .1808839    -0.12   0.901     .6798773    1.404586
                       age3 |   1.114357   .5139385     0.23   0.814     .4512865    2.751669
                       male |   1.971039   .6025931     2.22   0.026     1.082587    3.588621
                            |
                ethnicity_5 |
                     Mixed  |   .5189077   .2608845    -1.30   0.192     .1937058    1.390073
    Asian or Asian British  |   .8471833   .3942041    -0.36   0.722     .3403326    2.108877
                     Black  |   1.148332   .4894229     0.32   0.746     .4980613      2.6476
                     Other  |    1.10245   .5193071     0.21   0.836     .4379274    2.775338
                            |
                    cardiac |   1.501148   .5150538     1.18   0.236     .7662505    2.940874
                         af |   1.186232   .4560133     0.44   0.657     .5584048    2.519939
                     dvt_pe |   .8551975   .3253328    -0.41   0.681     .4057455    1.802516
                            |
                    diabcat |
       Controlled diabetes  |   .8722895   .3059245    -0.39   0.697      .438664     1.73456
     Uncontrolled diabetes  |   .5932849   .4415376    -0.70   0.483     .1379678    2.551226
Diabetes, no hba1c measure  |   3.82e-15   6.31e-15   -20.09   0.000     1.50e-16    9.73e-14
                            |
                      liver |   .9466585   .3323177    -0.16   0.876      .475757    1.883656
                     stroke |   1.470459   .5143718     1.10   0.270     .7407979    2.918813
                        tia |   .6199677   .2578895    -1.15   0.250     .2743422    1.401024
                   dementia |   .5166153    .216666    -1.57   0.115     .2270792    1.175323
                            |
                   kidneyfn |
    Stage 3a/3b egfr 30-60  |   3.515367   3.652204     1.21   0.226     .4588131    26.93429
         Stage 4/5 egfr<30  |   1.151201   .5285033     0.31   0.759     .4681384    2.830923
                            |
                     spleen |   .4945599   .1600753    -2.18   0.030     .2622459    .9326724
                 transplant |   1.085275   .3841201     0.23   0.817     .5423344    2.171763
                   dialysis |   1.134802   .6438247     0.22   0.824     .3732457    3.450209
          immunosuppression |   1.061004   .3168559     0.20   0.843      .590903    1.905101
                 cancerHaem |   .9515681   .1160375    -0.41   0.684     .7492753    1.208477
                 autoimmune |   .7892428     .28409    -0.66   0.511      .389779    1.598096
                        ibd |   1.139385   .4319564     0.34   0.731     .5419617     2.39537
            cancerExhaem1yr |   4.119029   3.810429     1.53   0.126     .6719948    25.24782
---------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Estimated failure rates
Number of records  =       604

  +------------------------------------------------+
  | cp    D        Y      Rate     Lower     Upper |
  |------------------------------------------------|
  |  0   45   0.0231   1950.98   1456.68   2613.02 |
  |  1    8   0.0057   1411.32    705.80   2822.09 |
  +------------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.65007
Iteration 2:   log pseudolikelihood = -151.60693
Iteration 3:   log pseudolikelihood = -151.60689
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.60689

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(9)     =        8.21
Log pseudolikelihood =   -151.60689             Prob > chi2      =      0.5134

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.cp |    .872179   .3467272    -0.34   0.731     .4001454    1.901049
                   age1 |   .9801396   .0743271    -0.26   0.791     .8447702    1.137201
                   age2 |   .9976214   .1817857    -0.01   0.990     .6980082     1.42584
                   age3 |   1.053729   .4800878     0.11   0.909     .4314339    2.573615
                   male |   1.666949   .4863276     1.75   0.080     .9409933    2.952962
                        |
            ethnicity_5 |
                 Mixed  |   .6175164   .3202791    -0.93   0.353     .2234431    1.706593
Asian or Asian British  |   .9651814   .4335818    -0.08   0.937     .4001561    2.328029
                 Black  |   1.167312   .4688135     0.39   0.700     .5312865    2.564748
                 Other  |   1.135152   .4853384     0.30   0.767     .4910432    2.624148
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.12434
Iteration 2:   log pseudolikelihood = -151.07965
Iteration 3:   log pseudolikelihood = -151.07962
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.07962

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(10)    =        8.98
Log pseudolikelihood =   -151.07962             Prob > chi2      =      0.5343

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.cp |   .8933439   .3570793    -0.28   0.778     .4081165    1.955479
                   age1 |   .9852236   .0765604    -0.19   0.848     .8460364    1.147309
                   age2 |   .9855176   .1839367    -0.08   0.938     .6835912    1.420798
                   age3 |   1.086366   .5065618     0.18   0.859     .4355812    2.709462
                   male |   1.675638   .4851744     1.78   0.075     .9499877    2.955577
                        |
            ethnicity_5 |
                 Mixed  |   .6238904    .326074    -0.90   0.367     .2239912    1.737743
Asian or Asian British  |   1.024639   .4706812     0.05   0.958     .4164477    2.521049
                 Black  |   1.208052   .4866145     0.47   0.639     .5485472    2.660465
                 Other  |   1.164778    .500015     0.36   0.722     .5021573    2.701757
                        |
                    imd |   1.094459   .0908551     1.09   0.277     .9301185    1.287837
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -151.34532
Iteration 2:   log pseudolikelihood = -151.21161
Iteration 3:   log pseudolikelihood = -151.17837
Iteration 4:   log pseudolikelihood = -151.16625
Iteration 5:   log pseudolikelihood = -151.16181
Iteration 6:   log pseudolikelihood = -151.16017
Iteration 7:   log pseudolikelihood = -151.15957
Iteration 8:   log pseudolikelihood = -151.15935
Iteration 9:   log pseudolikelihood = -151.15927
Iteration 10:  log pseudolikelihood = -151.15924
Iteration 11:  log pseudolikelihood = -151.15923
Iteration 12:  log pseudolikelihood = -151.15923
Iteration 13:  log pseudolikelihood = -151.15922
Iteration 14:  log pseudolikelihood = -151.15922
Iteration 15:  log pseudolikelihood = -151.15922
Iteration 16:  log pseudolikelihood = -151.15922
Iteration 17:  log pseudolikelihood = -151.15922
Iteration 18:  log pseudolikelihood = -151.15922
Iteration 19:  log pseudolikelihood = -151.15922
Iteration 20:  log pseudolikelihood = -151.15922
Iteration 21:  log pseudolikelihood = -151.15922
Iteration 22:  log pseudolikelihood = -151.15922
Iteration 23:  log pseudolikelihood = -151.15922
Iteration 24:  log pseudolikelihood = -151.15922
Iteration 25:  log pseudolikelihood = -151.15922
Iteration 26:  log pseudolikelihood = -151.15922
Iteration 27:  log pseudolikelihood = -151.15922
Iteration 28:  log pseudolikelihood = -151.15922
Iteration 29:  log pseudolikelihood = -151.15922
Iteration 30:  log pseudolikelihood = -151.15922
Iteration 31:  log pseudolikelihood = -151.15922
Iteration 32:  log pseudolikelihood = -151.15922
Refining estimates:
Iteration 0:   log pseudolikelihood = -151.15922
Iteration 1:   log pseudolikelihood = -151.15922

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(10)    =      960.43
Log pseudolikelihood =   -151.15922             Prob > chi2      =      0.0000

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.cp |   .8656916   .3452266    -0.36   0.718     .3962005    1.891522
                   age1 |    .975738     .07389    -0.32   0.746     .8411511    1.131859
                   age2 |     1.0084   .1831972     0.05   0.963     .7063083    1.439699
                   age3 |   1.026108   .4659245     0.06   0.955     .4213939    2.498607
                   male |   1.670221   .4853632     1.77   0.078     .9449661    2.952103
                        |
            ethnicity_5 |
                 Mixed  |   .6144311   .3185909    -0.94   0.348     .2223892     1.69759
Asian or Asian British  |    .989735   .4414107    -0.02   0.982     .4129453    2.372167
                 Black  |   1.179391   .4729929     0.41   0.681     .5373843    2.588397
                 Other  |   1.134908   .4859386     0.30   0.768     .4903407    2.626778
                        |
         resid_care_ldr |   3.81e-15   4.17e-15   -30.33   0.000     4.45e-16    3.25e-14
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -144.21912
Iteration 2:   log pseudolikelihood = -144.01198
Iteration 3:   log pseudolikelihood = -144.00814
Iteration 4:   log pseudolikelihood = -144.00679
Iteration 5:   log pseudolikelihood = -144.00629
Iteration 6:   log pseudolikelihood = -144.00611
Iteration 7:   log pseudolikelihood = -144.00604
Iteration 8:   log pseudolikelihood = -144.00601
Iteration 9:   log pseudolikelihood =   -144.006
Iteration 10:  log pseudolikelihood =   -144.006
Iteration 11:  log pseudolikelihood =   -144.006
Iteration 12:  log pseudolikelihood =   -144.006
Iteration 13:  log pseudolikelihood =   -144.006
Iteration 14:  log pseudolikelihood =   -144.006
Iteration 15:  log pseudolikelihood =   -144.006
Iteration 16:  log pseudolikelihood =   -144.006
Iteration 17:  log pseudolikelihood =   -144.006
Iteration 18:  log pseudolikelihood =   -144.006
Iteration 19:  log pseudolikelihood =   -144.006
Iteration 20:  log pseudolikelihood =   -144.006
Iteration 21:  log pseudolikelihood =   -144.006
Iteration 22:  log pseudolikelihood =   -144.006
Iteration 23:  log pseudolikelihood =   -144.006
Iteration 24:  log pseudolikelihood =   -144.006
Iteration 25:  log pseudolikelihood =   -144.006
Iteration 26:  log pseudolikelihood =   -144.006
Iteration 27:  log pseudolikelihood =   -144.006
Iteration 28:  log pseudolikelihood =   -144.006
Iteration 29:  log pseudolikelihood =   -144.006
Iteration 30:  log pseudolikelihood =   -144.006
Refining estimates:
Iteration 0:   log pseudolikelihood =   -144.006
Iteration 1:   log pseudolikelihood =   -144.006
Iteration 2:   log pseudolikelihood =   -144.006
Iteration 3:   log pseudolikelihood =   -144.006
Iteration 4:   log pseudolikelihood =   -144.006
Iteration 5:   log pseudolikelihood =   -144.006
Iteration 6:   log pseudolikelihood =   -144.006

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(29)    =      857.65
Log pseudolikelihood =     -144.006             Prob > chi2      =      0.0000

                                        (Std. Err. adjusted for 416 clusters in household_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
                       1.cp |   .8347169   .3394984    -0.44   0.657     .3761284    1.852432
                       age1 |   .9916787   .0765598    -0.11   0.914     .8524253    1.153681
                       age2 |   .9649179   .1800171    -0.19   0.848     .6694041    1.390888
                       age3 |   1.151892   .5366139     0.30   0.761     .4622485    2.870435
                       male |   1.953155   .6016099     2.17   0.030     1.067948    3.572099
                            |
                ethnicity_5 |
                     Mixed  |   .5221813   .2649719    -1.28   0.200     .1931496    1.411721
    Asian or Asian British  |   .8422902   .3948496    -0.37   0.714     .3360738    2.111003
                     Black  |   1.132342   .4827618     0.29   0.771      .490995    2.611429
                     Other  |   1.093112   .5143915     0.19   0.850     .4346202    2.749281
                            |
                    cardiac |   1.474536   .5069792     1.13   0.259     .7516108    2.892797
                         af |   1.184847   .4559178     0.44   0.659     .5573501    2.518816
                     dvt_pe |   .8533878   .3256712    -0.42   0.678     .4039332    1.802949
                            |
                    diabcat |
       Controlled diabetes  |   .8733568   .3072382    -0.38   0.700     .4382758    1.740347
     Uncontrolled diabetes  |   .5827259   .4390798    -0.72   0.474     .1330731    2.551753
Diabetes, no hba1c measure  |   6.05e-16   1.01e-15   -21.09   0.000     2.33e-17    1.57e-14
                            |
                      liver |   .9530566    .335711    -0.14   0.891     .4778436    1.900866
                     stroke |   1.502223   .5305897     1.15   0.249     .7517742    3.001797
                        tia |   .6146624   .2568944    -1.16   0.244     .2709456    1.394412
                   dementia |   .5116073   .2186122    -1.57   0.117     .2214187    1.182114
                            |
                   kidneyfn |
    Stage 3a/3b egfr 30-60  |   3.377208    3.49497     1.18   0.240     .4442991    25.67085
         Stage 4/5 egfr<30  |   1.141633   .5270829     0.29   0.774     .4618843    2.821756
                            |
                     spleen |   .4940488   .1582903    -2.20   0.028     .2636634    .9257416
                 transplant |   1.084564    .387658     0.23   0.820     .5382806    2.185254
                   dialysis |   1.164439   .6632417     0.27   0.789     .3813194    3.555859
          immunosuppression |   1.061698   .3180601     0.20   0.842     .5902019    1.909858
                 cancerHaem |   .9525475   .1180758    -0.39   0.695      .747091    1.214506
                 autoimmune |   .7910489   .2860073    -0.65   0.517     .3894463     1.60679
                        ibd |    1.12904   .4282068     0.32   0.749     .5368798    2.374331
            cancerExhaem1yr |   4.085907   3.742709     1.54   0.124     .6785532    24.60328
---------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Estimated failure rates
Number of records  =       604

  +------------------------------------------------------------------+
  |            ldr_group    D        Y      Rate     Lower     Upper |
  |------------------------------------------------------------------|
  | No DS, no CP, no LDR   26   0.0118   2198.47   1496.88   3228.90 |
  |       DS but not LDR    3   0.0024   1255.30    404.86   3892.14 |
  |           DS and LDR    6   0.0020   2967.50   1333.18   6605.30 |
  |       CP but not LDR    4   0.0035   1127.84    423.30   3005.02 |
  |           CP and LDR    4   0.0021   1885.16    707.53   5022.84 |
  |------------------------------------------------------------------|
  |  LD with no DS or CP   10   0.0068   1464.75    788.12   2722.31 |
  +------------------------------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -149.58111
Iteration 2:   log pseudolikelihood =  -149.5034
Iteration 3:   log pseudolikelihood = -149.50335
Refining estimates:
Iteration 0:   log pseudolikelihood = -149.50335

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(13)    =       12.55
Log pseudolikelihood =   -149.50335             Prob > chi2      =      0.4835

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
              ldr_group |
        DS but not LDR  |   .4697487   .2892142    -1.23   0.220     .1405397    1.570117
            DS and LDR  |   1.283337   .6588751     0.49   0.627     .4691666     3.51038
        CP but not LDR  |   .6048036   .3547153    -0.86   0.391     .1915964    1.909155
            CP and LDR  |   .8960204   .4407911    -0.22   0.823     .3416451    2.349961
   LD with no DS or CP  |   .5868544   .2242294    -1.39   0.163      .277522    1.240976
                        |
                   age1 |   1.005072   .0772144     0.07   0.947     .8645771    1.168397
                   age2 |   .9437579   .1752688    -0.31   0.755     .6558142    1.358127
                   age3 |   1.198335   .5576147     0.39   0.697     .4813857    2.983068
                   male |   1.668701   .4896918     1.74   0.081     .9388314    2.965989
                        |
            ethnicity_5 |
                 Mixed  |   .5987162   .3048281    -1.01   0.314     .2207209    1.624047
Asian or Asian British  |   .9637133   .4389971    -0.08   0.935     .3946415    2.353384
                 Black  |   1.173024   .4832653     0.39   0.698     .5231505    2.630189
                 Other  |   1.113281   .4811833     0.25   0.804     .4771968    2.597239
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -149.07034
Iteration 2:   log pseudolikelihood = -148.97505
Iteration 3:   log pseudolikelihood = -148.97498
Refining estimates:
Iteration 0:   log pseudolikelihood = -148.97498

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(14)    =       13.63
Log pseudolikelihood =   -148.97498             Prob > chi2      =      0.4779

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
              ldr_group |
        DS but not LDR  |   .4531402    .273771    -1.31   0.190     .1386651    1.480805
            DS and LDR  |   1.253493   .6641065     0.43   0.670     .4437633    3.540727
        CP but not LDR  |   .6123963   .3543563    -0.85   0.397     .1970127    1.903579
            CP and LDR  |    .923272   .4578758    -0.16   0.872     .3492976    2.440416
   LD with no DS or CP  |   .5933191   .2271519    -1.36   0.173     .2801601    1.256523
                        |
                   age1 |   1.009765   .0795819     0.12   0.902      .865237    1.178434
                   age2 |   .9338905   .1774994    -0.36   0.719      .643447    1.355436
                   age3 |   1.230223   .5853855     0.44   0.663     .4841172    3.126201
                   male |   1.674513   .4889977     1.77   0.078     .9447511    2.967971
                        |
            ethnicity_5 |
                 Mixed  |   .6089696   .3123655    -0.97   0.334     .2228329    1.664224
Asian or Asian British  |   1.042977   .4933372     0.09   0.929     .4127139    2.635727
                 Black  |    1.22559   .5106273     0.49   0.625     .5416299    2.773244
                 Other  |   1.158306   .5101923     0.33   0.739     .4885397    2.746294
                        |
                    imd |   1.095702   .0936368     1.07   0.285     .9267234    1.295491
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -149.34639
Iteration 2:   log pseudolikelihood = -149.17961
Iteration 3:   log pseudolikelihood = -149.14719
Iteration 4:   log pseudolikelihood = -149.13537
Iteration 5:   log pseudolikelihood = -149.13104
Iteration 6:   log pseudolikelihood = -149.12945
Iteration 7:   log pseudolikelihood = -149.12886
Iteration 8:   log pseudolikelihood = -149.12864
Iteration 9:   log pseudolikelihood = -149.12856
Iteration 10:  log pseudolikelihood = -149.12854
Iteration 11:  log pseudolikelihood = -149.12853
Iteration 12:  log pseudolikelihood = -149.12852
Iteration 13:  log pseudolikelihood = -149.12852
Iteration 14:  log pseudolikelihood = -149.12852
Iteration 15:  log pseudolikelihood = -149.12852
Iteration 16:  log pseudolikelihood = -149.12852
Iteration 17:  log pseudolikelihood = -149.12852
Iteration 18:  log pseudolikelihood = -149.12852
Iteration 19:  log pseudolikelihood = -149.12852
Iteration 20:  log pseudolikelihood = -149.12852
Iteration 21:  log pseudolikelihood = -149.12852
Iteration 22:  log pseudolikelihood = -149.12852
Iteration 23:  log pseudolikelihood = -149.12852
Iteration 24:  log pseudolikelihood = -149.12852
Iteration 25:  log pseudolikelihood = -149.12852
Iteration 26:  log pseudolikelihood = -149.12852
Iteration 27:  log pseudolikelihood = -149.12852
Iteration 28:  log pseudolikelihood = -149.12852
Iteration 29:  log pseudolikelihood = -149.12852
Iteration 30:  log pseudolikelihood = -149.12852
Iteration 31:  log pseudolikelihood = -149.12852
Iteration 32:  log pseudolikelihood = -149.12852
Refining estimates:
Iteration 0:   log pseudolikelihood = -149.12852
Iteration 1:   log pseudolikelihood = -149.12852
Iteration 2:   log pseudolikelihood = -149.12852
Iteration 3:   log pseudolikelihood = -149.12852
Iteration 4:   log pseudolikelihood = -149.12852

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(14)    =     1155.55
Log pseudolikelihood =   -149.12852             Prob > chi2      =      0.0000

                                    (Std. Err. adjusted for 416 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
              ldr_group |
        DS but not LDR  |   .4777159   .2972873    -1.19   0.235     .1410778    1.617636
            DS and LDR  |   1.307219   .6758041     0.52   0.604     .4745644    3.600818
        CP but not LDR  |   .6019127   .3524967    -0.87   0.386     .1910057    1.896796
            CP and LDR  |     .91007   .4485953    -0.19   0.848     .3463356    2.391401
   LD with no DS or CP  |   .6000478   .2285632    -1.34   0.180     .2844174    1.265947
                        |
                   age1 |   1.002237   .0773874     0.03   0.977     .8614805    1.165993
                   age2 |   .9503403   .1768668    -0.27   0.784      .659877    1.368659
                   age3 |   1.177505   .5484314     0.35   0.726     .4726172    2.933702
                   male |   1.666584   .4861107     1.75   0.080     .9409098    2.951933
                        |
            ethnicity_5 |
                 Mixed  |   .5961181   .3030369    -1.02   0.309     .2201018    1.614511
Asian or Asian British  |   .9809959   .4443552    -0.04   0.966     .4037422    2.383583
                 Black  |   1.184908   .4883779     0.41   0.681     .5282617    2.657788
                 Other  |   1.109946   .4800666     0.24   0.809     .4754944    2.590944
                        |
         resid_care_ldr |   2.22e-16   2.44e-16   -32.75   0.000     2.56e-17    1.92e-15
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath1
   analysis time _t:  stime_noncoviddeath1/365.25

Iteration 0:   log pseudolikelihood = -155.47455
Iteration 1:   log pseudolikelihood = -142.76914
Iteration 2:   log pseudolikelihood = -142.55672
Iteration 3:   log pseudolikelihood = -142.55311
Iteration 4:   log pseudolikelihood = -142.55186
Iteration 5:   log pseudolikelihood =  -142.5514
Iteration 6:   log pseudolikelihood = -142.55123
Iteration 7:   log pseudolikelihood = -142.55116
Iteration 8:   log pseudolikelihood = -142.55114
Iteration 9:   log pseudolikelihood = -142.55113
Iteration 10:  log pseudolikelihood = -142.55113
Iteration 11:  log pseudolikelihood = -142.55113
Iteration 12:  log pseudolikelihood = -142.55113
Iteration 13:  log pseudolikelihood = -142.55113
Iteration 14:  log pseudolikelihood = -142.55113
Iteration 15:  log pseudolikelihood = -142.55113
Iteration 16:  log pseudolikelihood = -142.55113
Iteration 17:  log pseudolikelihood = -142.55113
Iteration 18:  log pseudolikelihood = -142.55113
Iteration 19:  log pseudolikelihood = -142.55113
Iteration 20:  log pseudolikelihood = -142.55113
Iteration 21:  log pseudolikelihood = -142.55113
Iteration 22:  log pseudolikelihood = -142.55113
Iteration 23:  log pseudolikelihood = -142.55113
Iteration 24:  log pseudolikelihood = -142.55113
Iteration 25:  log pseudolikelihood = -142.55113
Iteration 26:  log pseudolikelihood = -142.55113
Iteration 27:  log pseudolikelihood = -142.55113
Iteration 28:  log pseudolikelihood = -142.55113
Iteration 29:  log pseudolikelihood = -142.55113
Iteration 30:  log pseudolikelihood = -142.55113
Iteration 31:  log pseudolikelihood = -142.55113
Iteration 32:  log pseudolikelihood = -142.55113
Iteration 33:  log pseudolikelihood = -142.55113
Iteration 34:  log pseudolikelihood = -142.55113
Refining estimates:
Iteration 0:   log pseudolikelihood = -142.55113
Iteration 1:   log pseudolikelihood = -142.55113
Iteration 2:   log pseudolikelihood = -142.55113
Iteration 3:   log pseudolikelihood = -142.55113
Iteration 4:   log pseudolikelihood = -142.55113
Iteration 5:   log pseudolikelihood = -142.55113
Iteration 6:   log pseudolikelihood = -142.55113

Stratified Cox regr. -- no ties

No. of subjects      =          604             Number of obs    =         604
No. of failures      =           53
Time at risk         =  287.3374401
                                                Wald chi2(33)    =     1087.68
Log pseudolikelihood =   -142.55113             Prob > chi2      =      0.0000

                                        (Std. Err. adjusted for 416 clusters in household_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
                  ldr_group |
            DS but not LDR  |   .5057566   .3253864    -1.06   0.289     .1433203    1.784742
                DS and LDR  |   1.149045   .6658982     0.24   0.811      .369017    3.577898
            CP but not LDR  |   .5862629   .3721797    -0.84   0.400     .1689354     2.03453
                CP and LDR  |   .8891301   .4501791    -0.23   0.816     .3296021    2.398505
       LD with no DS or CP  |   .6185769    .239966    -1.24   0.216     .2891912     1.32313
                            |
                       age1 |   1.008268   .0798178     0.10   0.917     .8633601    1.177497
                       age2 |   .9322247   .1793588    -0.36   0.715     .6393674    1.359223
                       age3 |   1.244996   .5990753     0.46   0.649     .4848209    3.197089
                       male |   1.894761   .5861403     2.07   0.039     1.033325    3.474336
                            |
                ethnicity_5 |
                     Mixed  |   .5153842   .2577216    -1.33   0.185     .1934112    1.373348
    Asian or Asian British  |   .8181188   .3818844    -0.43   0.667     .3277099    2.042411
                     Black  |   1.134565   .4955708     0.29   0.773     .4819808    2.670723
                     Other  |    1.09942   .5201529     0.20   0.841     .4349573    2.778949
                            |
                    cardiac |   1.493318   .5103452     1.17   0.241     .7642793     2.91778
                         af |   1.139488   .4603018     0.32   0.747     .5162529    2.515109
                     dvt_pe |   .8129458   .3064982    -0.55   0.583     .3882756    1.702092
                            |
                    diabcat |
       Controlled diabetes  |   .9016053   .3154218    -0.30   0.767     .4541801    1.789801
     Uncontrolled diabetes  |   .5935556   .4689005    -0.66   0.509     .1261898    2.791892
Diabetes, no hba1c measure  |   1.14e-17   1.95e-17   -22.83   0.000     4.00e-19    3.24e-16
                            |
                      liver |   .9341494   .3384596    -0.19   0.851     .4592089    1.900301
                     stroke |   1.459712   .5293786     1.04   0.297     .7170852    2.971417
                        tia |   .6180375   .2542146    -1.17   0.242     .2759903    1.383999
                   dementia |   .5235495   .2182427    -1.55   0.121     .2312771    1.185176
                            |
                   kidneyfn |
    Stage 3a/3b egfr 30-60  |   2.632975   2.787939     0.91   0.361     .3304818    20.97712
         Stage 4/5 egfr<30  |   1.190058   .5703189     0.36   0.717     .4652019    3.044351
                            |
                     spleen |   .5069029   .1631019    -2.11   0.035     .2697993    .9523766
                 transplant |   1.061389   .3882517     0.16   0.871     .5182132    2.173905
                   dialysis |   1.116494   .6569018     0.19   0.851     .3524051    3.537288
          immunosuppression |   1.081009   .3269059     0.26   0.797      .597612    1.955418
                 cancerHaem |   .9455209   .1145891    -0.46   0.644     .7456118    1.199029
                 autoimmune |   .8613167   .3160834    -0.41   0.684     .4195576    1.768211
                        ibd |   1.194505   .4646462     0.46   0.648      .557291    2.560317
            cancerExhaem1yr |   3.590504   2.969937     1.55   0.122     .7096951    18.16515
---------------------------------------------------------------------------------------------
                                                         Stratified by stpcode
(Analysis dataset, wave 2 (1 Sept 20 - latest), for learning disability work)
(226 observations deleted)
(104 observations deleted)

     failure event:  noncoviddeath2 != 0 & noncoviddeath2 < .
obs. time interval:  (0, stime_noncoviddeath2]
 exit on or before:  failure
    t for analysis:  time/365.25

------------------------------------------------------------------------------
        563  total observations
          0  exclusions
------------------------------------------------------------------------------
        563  observations remaining, representing
         49  failures in single-record/single-failure data
    223.346  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =  .4188912

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Estimated failure rates
Number of records  =       563

  +----------------------------------------------+
  | ldr    D        Y     Rate    Lower    Upper |
  |----------------------------------------------|
  |   0   30   0.0141   2127.6   1487.6   3042.9 |
  |   1   19   0.0082   2307.5   1471.8   3617.6 |
  +----------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.36768
Iteration 2:   log pseudolikelihood = -137.34559
Iteration 3:   log pseudolikelihood = -137.34559
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.34559

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(9)     =        6.44
Log pseudolikelihood =   -137.34559             Prob > chi2      =      0.6947

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                  1.ldr |   1.167153   .3635744     0.50   0.620     .6338314    2.149224
                   age1 |   1.049063   .0997139     0.50   0.614     .8707525    1.263889
                   age2 |   .9208996   .1918973    -0.40   0.693      .612123    1.385434
                   age3 |   1.231693   .6667119     0.38   0.700     .4263334    3.558406
                   male |   .6706592   .1969105    -1.36   0.174     .3772097    1.192397
                        |
            ethnicity_5 |
                 Mixed  |   1.518819   .7104139     0.89   0.372     .6072456    3.798813
Asian or Asian British  |    1.75875   .8172164     1.22   0.224     .7074354    4.372414
                 Black  |    1.46366   .7661918     0.73   0.467     .5246337    4.083423
                 Other  |   .8322575   .4620516    -0.33   0.741     .2803424    2.470738
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.31569
Iteration 2:   log pseudolikelihood = -137.29394
Iteration 3:   log pseudolikelihood = -137.29394
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.29394

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(10)    =        6.65
Log pseudolikelihood =   -137.29394             Prob > chi2      =      0.7581

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                  1.ldr |   1.179255   .3707346     0.52   0.600     .6368052    2.183779
                   age1 |   1.051703   .1032917     0.51   0.608     .8675478    1.274949
                   age2 |   .9159356   .1969561    -0.41   0.683     .6009367     1.39605
                   age3 |   1.249692   .6983353     0.40   0.690     .4179716    3.736453
                   male |    .675529   .1965182    -1.35   0.178     .3819626    1.194723
                        |
            ethnicity_5 |
                 Mixed  |   1.477296   .6947288     0.83   0.407     .5877224    3.713321
Asian or Asian British  |   1.751627   .8107764     1.21   0.226     .7070424     4.33948
                 Black  |   1.442762   .7530789     0.70   0.483     .5186717    4.013254
                 Other  |    .821911   .4471245    -0.36   0.718     .2829867    2.387171
                        |
                    imd |   1.030587   .0997556     0.31   0.756     .8524964    1.245881
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

note: resid_care_ldr omitted because of collinearity
Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.36768
Iteration 2:   log pseudolikelihood = -137.34559
Iteration 3:   log pseudolikelihood = -137.34559
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.34559

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(9)     =        6.44
Log pseudolikelihood =   -137.34559             Prob > chi2      =      0.6947

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                  1.ldr |   1.167153   .3635744     0.50   0.620     .6338314    2.149224
                   age1 |   1.049063   .0997139     0.50   0.614     .8707525    1.263889
                   age2 |   .9208996   .1918973    -0.40   0.693      .612123    1.385434
                   age3 |   1.231693   .6667119     0.38   0.700     .4263334    3.558406
                   male |   .6706592   .1969105    -1.36   0.174     .3772097    1.192397
                        |
            ethnicity_5 |
                 Mixed  |   1.518819   .7104139     0.89   0.372     .6072456    3.798813
Asian or Asian British  |    1.75875   .8172164     1.22   0.224     .7074354    4.372414
                 Black  |    1.46366   .7661918     0.73   0.467     .5246337    4.083423
                 Other  |   .8322575   .4620516    -0.33   0.741     .2803424    2.470738
                        |
         resid_care_ldr |          1  (omitted)
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -129.14551
Iteration 2:   log pseudolikelihood = -128.81005
Iteration 3:   log pseudolikelihood = -128.78425
Iteration 4:   log pseudolikelihood = -128.77502
Iteration 5:   log pseudolikelihood = -128.77163
Iteration 6:   log pseudolikelihood = -128.77038
Iteration 7:   log pseudolikelihood = -128.76993
Iteration 8:   log pseudolikelihood = -128.76976
Iteration 9:   log pseudolikelihood =  -128.7697
Iteration 10:  log pseudolikelihood = -128.76967
Iteration 11:  log pseudolikelihood = -128.76966
Iteration 12:  log pseudolikelihood = -128.76966
Iteration 13:  log pseudolikelihood = -128.76966
Iteration 14:  log pseudolikelihood = -128.76966
Iteration 15:  log pseudolikelihood = -128.76966
Iteration 16:  log pseudolikelihood = -128.76966
Iteration 17:  log pseudolikelihood = -128.76966
Iteration 18:  log pseudolikelihood = -128.76966
Iteration 19:  log pseudolikelihood = -128.76966
Iteration 20:  log pseudolikelihood = -128.76966
Iteration 21:  log pseudolikelihood = -128.76966
Iteration 22:  log pseudolikelihood = -128.76966
Iteration 23:  log pseudolikelihood = -128.76966
Iteration 24:  log pseudolikelihood = -128.76966
Iteration 25:  log pseudolikelihood = -128.76966
Iteration 26:  log pseudolikelihood = -128.76966
Iteration 27:  log pseudolikelihood = -128.76966
Iteration 28:  log pseudolikelihood = -128.76966
Iteration 29:  log pseudolikelihood = -128.76966
Iteration 30:  log pseudolikelihood = -128.76966
Iteration 31:  log pseudolikelihood = -128.76966
Refining estimates:
Iteration 0:   log pseudolikelihood = -128.76966
Iteration 1:   log pseudolikelihood = -128.76966
Iteration 2:   log pseudolikelihood = -128.76966

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(28)    =     2272.38
Log pseudolikelihood =   -128.76966             Prob > chi2      =      0.0000

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                  1.ldr |   1.147811   .3677622     0.43   0.667     .6125516     2.15079
                   age1 |   1.038036   .1145065     0.34   0.735     .8362107    1.288573
                   age2 |   .9553487   .2230408    -0.20   0.845     .6045551    1.509691
                   age3 |   1.115431   .6643694     0.18   0.854     .3470987    3.584533
                   male |   .6491847   .2013145    -1.39   0.164     .3535148    1.192145
                        |
            ethnicity_5 |
                 Mixed  |   1.870233   .8842514     1.32   0.185      .740364    4.724395
Asian or Asian British  |   2.119755   1.063044     1.50   0.134     .7932561    5.664453
                 Black  |   1.389648   .7745545     0.59   0.555     .4660867    4.143267
                 Other  |   .7327277   .4350447    -0.52   0.600     .2288527    2.346006
                        |
                cardiac |   1.464887   .5624462     0.99   0.320      .690214    3.109028
                     af |   1.088036   .4247308     0.22   0.829     .5062492    2.338419
                 dvt_pe |   .6281558   .3002933    -0.97   0.331     .2461194    1.603205
                        |
                diabcat |
   Controlled diabetes  |   .7057847   .3601024    -0.68   0.495     .2596426     1.91853
 Uncontrolled diabetes  |   1.261913   .8549751     0.34   0.731     .3344422    4.761437
                        |
                  liver |   1.280039   .4540293     0.70   0.486     .6387077    2.565334
                 stroke |   .6184102   .2594012    -1.15   0.252     .2717864    1.407102
                    tia |     1.7982   .6612976     1.60   0.111     .8745892    3.697191
               dementia |   .8305242   .3122145    -0.49   0.621     .3975253    1.735161
                        |
               kidneyfn |
Stage 3a/3b egfr 30-60  |   1.81e-15   2.13e-15   -28.95   0.000     1.82e-16    1.81e-14
     Stage 4/5 egfr<30  |   .5412152   .2642465    -1.26   0.209     .2078614    1.409179
                        |
                 spleen |   .4301635   .1483961    -2.45   0.014     .2187708    .8458195
             transplant |   .9103883    .372224    -0.23   0.818     .4085093    2.028857
               dialysis |   2.005296   1.130004     1.23   0.217     .6645351    6.051163
      immunosuppression |   1.031035   .3296938     0.10   0.924     .5509155    1.929576
             cancerHaem |   .8240407    .128056    -1.25   0.213     .6076757    1.117443
             autoimmune |   1.181308   .4390251     0.45   0.654       .57019    2.447408
                    ibd |   1.320442   .5189558     0.71   0.479     .6111993    2.852698
        cancerExhaem1yr |   1.03e-14   1.76e-14   -18.89   0.000     3.65e-16    2.91e-13
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Estimated failure rates
Number of records  =       563

  +--------------------------------------------------------+
  |       ldr_cat    D        Y     Rate    Lower    Upper |
  |--------------------------------------------------------|
  |    Not on LDR   30   0.0141   2127.6   1487.6   3042.9 |
  |     LDR, mild   12   0.0065   1846.2   1048.5   3250.8 |
  | LDR, profound    7   0.0017   4036.5   1924.4   8467.1 |
  +--------------------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -136.32581
Iteration 2:   log pseudolikelihood = -136.13162
Iteration 3:   log pseudolikelihood = -136.13111
Refining estimates:
Iteration 0:   log pseudolikelihood = -136.13111

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(10)    =        8.32
Log pseudolikelihood =   -136.13111             Prob > chi2      =      0.5977

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                ldr_cat |
             LDR, mild  |   .9278624   .3218409    -0.22   0.829     .4701467    1.831191
         LDR, profound  |   2.115517   .9802762     1.62   0.106     .8530833    5.246159
                        |
                   age1 |   1.051119   .1003835     0.52   0.602     .8716873    1.267485
                   age2 |    .917612   .1922177    -0.41   0.681     .6086291    1.383456
                   age3 |   1.240942   .6748775     0.40   0.691     .4273969    3.603059
                   male |    .676452   .1987196    -1.33   0.183     .3803485    1.203074
                        |
            ethnicity_5 |
                 Mixed  |    1.62586   .7847298     1.01   0.314      .631315    4.187164
Asian or Asian British  |   1.861807   .8860877     1.31   0.192     .7325263    4.732014
                 Black  |   1.629152   .8808506     0.90   0.367     .5645902    4.700993
                 Other  |   .9254387   .5252956    -0.14   0.891     .3042219    2.815172
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -136.25859
Iteration 2:   log pseudolikelihood = -136.06798
Iteration 3:   log pseudolikelihood = -136.06748
Refining estimates:
Iteration 0:   log pseudolikelihood = -136.06748

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(11)    =        8.54
Log pseudolikelihood =   -136.06748             Prob > chi2      =      0.6642

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                ldr_cat |
             LDR, mild  |   .9366931   .3272018    -0.19   0.851     .4723447    1.857529
         LDR, profound  |   2.145514   1.008244     1.62   0.104     .8541326    5.389365
                        |
                   age1 |   1.053749   .1035834     0.53   0.594     .8690891    1.277645
                   age2 |   .9128168   .1963944    -0.42   0.672     .5987505    1.391622
                   age3 |    1.25844   .7031812     0.41   0.681     .4209248    3.762359
                   male |   .6823313   .1986339    -1.31   0.189     .3856572    1.207228
                        |
            ethnicity_5 |
                 Mixed  |   1.580508   .7649751     0.95   0.344     .6120826    4.081156
Asian or Asian British  |   1.859916    .885963     1.30   0.193     .7311844    4.731072
                 Black  |   1.606677   .8670731     0.88   0.380     .5579071    4.626955
                 Other  |     .91496   .5113599    -0.16   0.874      .305968    2.736076
                        |
                    imd |    1.03409    .100972     0.34   0.731     .8539735    1.252197
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

note: resid_care_ldr omitted because of collinearity
Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -136.32581
Iteration 2:   log pseudolikelihood = -136.13162
Iteration 3:   log pseudolikelihood = -136.13111
Refining estimates:
Iteration 0:   log pseudolikelihood = -136.13111

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(10)    =        8.32
Log pseudolikelihood =   -136.13111             Prob > chi2      =      0.5977

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                ldr_cat |
             LDR, mild  |   .9278624   .3218409    -0.22   0.829     .4701467    1.831191
         LDR, profound  |   2.115517   .9802762     1.62   0.106     .8530833    5.246159
                        |
                   age1 |   1.051119   .1003835     0.52   0.602     .8716873    1.267485
                   age2 |    .917612   .1922177    -0.41   0.681     .6086291    1.383456
                   age3 |   1.240942   .6748775     0.40   0.691     .4273969    3.603059
                   male |    .676452   .1987196    -1.33   0.183     .3803485    1.203074
                        |
            ethnicity_5 |
                 Mixed  |    1.62586   .7847298     1.01   0.314      .631315    4.187164
Asian or Asian British  |   1.861807   .8860877     1.31   0.192     .7325263    4.732014
                 Black  |   1.629152   .8808506     0.90   0.367     .5645902    4.700993
                 Other  |   .9254387   .5252956    -0.14   0.891     .3042219    2.815172
                        |
         resid_care_ldr |          1  (omitted)
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -127.79001
Iteration 2:   log pseudolikelihood = -127.27573
Iteration 3:   log pseudolikelihood = -127.25009
Iteration 4:   log pseudolikelihood = -127.24098
Iteration 5:   log pseudolikelihood = -127.23764
Iteration 6:   log pseudolikelihood = -127.23642
Iteration 7:   log pseudolikelihood = -127.23597
Iteration 8:   log pseudolikelihood =  -127.2358
Iteration 9:   log pseudolikelihood = -127.23574
Iteration 10:  log pseudolikelihood = -127.23572
Iteration 11:  log pseudolikelihood = -127.23571
Iteration 12:  log pseudolikelihood =  -127.2357
Iteration 13:  log pseudolikelihood =  -127.2357
Iteration 14:  log pseudolikelihood =  -127.2357
Iteration 15:  log pseudolikelihood =  -127.2357
Iteration 16:  log pseudolikelihood =  -127.2357
Iteration 17:  log pseudolikelihood =  -127.2357
Iteration 18:  log pseudolikelihood =  -127.2357
Iteration 19:  log pseudolikelihood =  -127.2357
Iteration 20:  log pseudolikelihood =  -127.2357
Iteration 21:  log pseudolikelihood =  -127.2357
Iteration 22:  log pseudolikelihood =  -127.2357
Iteration 23:  log pseudolikelihood =  -127.2357
Iteration 24:  log pseudolikelihood =  -127.2357
Iteration 25:  log pseudolikelihood =  -127.2357
Iteration 26:  log pseudolikelihood =  -127.2357
Iteration 27:  log pseudolikelihood =  -127.2357
Iteration 28:  log pseudolikelihood =  -127.2357
Iteration 29:  log pseudolikelihood =  -127.2357
Iteration 30:  log pseudolikelihood =  -127.2357
Iteration 31:  log pseudolikelihood =  -127.2357
Refining estimates:
Iteration 0:   log pseudolikelihood =  -127.2357
Iteration 1:   log pseudolikelihood =  -127.2357

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(29)    =     2156.41
Log pseudolikelihood =    -127.2357             Prob > chi2      =      0.0000

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                ldr_cat |
             LDR, mild  |   .8879512   .3200236    -0.33   0.742     .4381375    1.799566
         LDR, profound  |   2.445496   1.264098     1.73   0.084     .8879191    6.735356
                        |
                   age1 |   1.031339   .1113075     0.29   0.775     .8347095    1.274288
                   age2 |   .9724519   .2225948    -0.12   0.903     .6209085    1.523031
                   age3 |    1.05913   .6190014     0.10   0.922     .3368763    3.329878
                   male |   .6601058   .2049829    -1.34   0.181     .3591613    1.213214
                        |
            ethnicity_5 |
                 Mixed  |   2.167299   1.081766     1.55   0.121     .8148129     5.76474
Asian or Asian British  |   2.290486   1.171813     1.62   0.105     .8403354    6.243134
                 Black  |   1.665009   1.006159     0.84   0.399     .5093763     5.44245
                 Other  |    .857436   .5287543    -0.25   0.803     .2560307    2.871517
                        |
                cardiac |   1.468907   .5623902     1.00   0.315     .6935867    3.110914
                     af |   1.073627   .4238002     0.18   0.857     .4952825     2.32731
                 dvt_pe |   .6241138   .2923852    -1.01   0.314      .249168    1.563274
                        |
                diabcat |
   Controlled diabetes  |   .6694177   .3350149    -0.80   0.423     .2510194    1.785201
 Uncontrolled diabetes  |   .9036449   .6469494    -0.14   0.887     .2221234    3.676218
                        |
                  liver |   1.178521   .4224836     0.46   0.647     .5837049    2.379477
                 stroke |   .6291296   .2611315    -1.12   0.264     .2788905    1.419209
                    tia |   1.902079   .6974247     1.75   0.080     .9270926    3.902418
               dementia |   .7917539   .2949261    -0.63   0.531     .3815223    1.643087
                        |
               kidneyfn |
Stage 3a/3b egfr 30-60  |   4.55e-15   5.46e-15   -27.52   0.000     4.33e-16    4.78e-14
     Stage 4/5 egfr<30  |     .52545   .2629342    -1.29   0.198     .1970569    1.401106
                        |
                 spleen |   .4369504   .1512874    -2.39   0.017     .2216749    .8612866
             transplant |   .8694083    .367118    -0.33   0.740      .380009    1.989087
               dialysis |   2.033369   1.158684     1.25   0.213     .6655369     6.21241
      immunosuppression |    1.05453    .341679     0.16   0.870     .5588057     1.99002
             cancerHaem |   .7978595   .1274257    -1.41   0.157     .5834203    1.091117
             autoimmune |   1.221983   .4462037     0.55   0.583     .5973807    2.499649
                    ibd |   1.266435   .4879234     0.61   0.540     .5951659    2.694809
        cancerExhaem1yr |   2.34e-14   3.95e-14   -18.59   0.000     8.56e-16    6.41e-13
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Estimated failure rates
Number of records  =       563

  +-----------------------------------------------------------------------+
  |                  ldr_carecat    D        Y     Rate    Lower    Upper |
  |-----------------------------------------------------------------------|
  |                   Not on LDR   30   0.0141   2127.6   1487.6   3042.9 |
  | LDR, not in residential care   19   0.0082   2307.5   1471.8   3617.6 |
  +-----------------------------------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.36768
Iteration 2:   log pseudolikelihood = -137.34559
Iteration 3:   log pseudolikelihood = -137.34559
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.34559

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(9)     =        6.44
Log pseudolikelihood =   -137.34559             Prob > chi2      =      0.6947

                                          (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------------
                              |               Robust
                           _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------------+----------------------------------------------------------------
                  ldr_carecat |
LDR, not in residential care  |   1.167153   .3635744     0.50   0.620     .6338314    2.149224
                         age1 |   1.049063   .0997139     0.50   0.614     .8707525    1.263889
                         age2 |   .9208996   .1918973    -0.40   0.693      .612123    1.385434
                         age3 |   1.231693   .6667119     0.38   0.700     .4263334    3.558406
                         male |   .6706592   .1969105    -1.36   0.174     .3772097    1.192397
                              |
                  ethnicity_5 |
                       Mixed  |   1.518819   .7104139     0.89   0.372     .6072456    3.798813
      Asian or Asian British  |    1.75875   .8172164     1.22   0.224     .7074354    4.372414
                       Black  |    1.46366   .7661918     0.73   0.467     .5246337    4.083423
                       Other  |   .8322575   .4620516    -0.33   0.741     .2803424    2.470738
-----------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.31569
Iteration 2:   log pseudolikelihood = -137.29394
Iteration 3:   log pseudolikelihood = -137.29394
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.29394

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(10)    =        6.65
Log pseudolikelihood =   -137.29394             Prob > chi2      =      0.7581

                                          (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------------
                              |               Robust
                           _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------------+----------------------------------------------------------------
                  ldr_carecat |
LDR, not in residential care  |   1.179255   .3707346     0.52   0.600     .6368052    2.183779
                         age1 |   1.051703   .1032917     0.51   0.608     .8675478    1.274949
                         age2 |   .9159356   .1969561    -0.41   0.683     .6009367     1.39605
                         age3 |   1.249692   .6983353     0.40   0.690     .4179716    3.736453
                         male |    .675529   .1965182    -1.35   0.178     .3819626    1.194723
                              |
                  ethnicity_5 |
                       Mixed  |   1.477296   .6947288     0.83   0.407     .5877224    3.713321
      Asian or Asian British  |   1.751627   .8107764     1.21   0.226     .7070424     4.33948
                       Black  |   1.442762   .7530789     0.70   0.483     .5186717    4.013254
                       Other  |    .821911   .4471245    -0.36   0.718     .2829867    2.387171
                              |
                          imd |   1.030587   .0997556     0.31   0.756     .8524964    1.245881
-----------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

note: resid_care_ldr omitted because of collinearity
Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.36768
Iteration 2:   log pseudolikelihood = -137.34559
Iteration 3:   log pseudolikelihood = -137.34559
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.34559

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(9)     =        6.44
Log pseudolikelihood =   -137.34559             Prob > chi2      =      0.6947

                                          (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------------
                              |               Robust
                           _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------------+----------------------------------------------------------------
                  ldr_carecat |
LDR, not in residential care  |   1.167153   .3635744     0.50   0.620     .6338314    2.149224
                         age1 |   1.049063   .0997139     0.50   0.614     .8707525    1.263889
                         age2 |   .9208996   .1918973    -0.40   0.693      .612123    1.385434
                         age3 |   1.231693   .6667119     0.38   0.700     .4263334    3.558406
                         male |   .6706592   .1969105    -1.36   0.174     .3772097    1.192397
                              |
                  ethnicity_5 |
                       Mixed  |   1.518819   .7104139     0.89   0.372     .6072456    3.798813
      Asian or Asian British  |    1.75875   .8172164     1.22   0.224     .7074354    4.372414
                       Black  |    1.46366   .7661918     0.73   0.467     .5246337    4.083423
                       Other  |   .8322575   .4620516    -0.33   0.741     .2803424    2.470738
                              |
               resid_care_ldr |          1  (omitted)
-----------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -129.14551
Iteration 2:   log pseudolikelihood = -128.81005
Iteration 3:   log pseudolikelihood = -128.78425
Iteration 4:   log pseudolikelihood = -128.77502
Iteration 5:   log pseudolikelihood = -128.77163
Iteration 6:   log pseudolikelihood = -128.77038
Iteration 7:   log pseudolikelihood = -128.76993
Iteration 8:   log pseudolikelihood = -128.76976
Iteration 9:   log pseudolikelihood =  -128.7697
Iteration 10:  log pseudolikelihood = -128.76967
Iteration 11:  log pseudolikelihood = -128.76966
Iteration 12:  log pseudolikelihood = -128.76966
Iteration 13:  log pseudolikelihood = -128.76966
Iteration 14:  log pseudolikelihood = -128.76966
Iteration 15:  log pseudolikelihood = -128.76966
Iteration 16:  log pseudolikelihood = -128.76966
Iteration 17:  log pseudolikelihood = -128.76966
Iteration 18:  log pseudolikelihood = -128.76966
Iteration 19:  log pseudolikelihood = -128.76966
Iteration 20:  log pseudolikelihood = -128.76966
Iteration 21:  log pseudolikelihood = -128.76966
Iteration 22:  log pseudolikelihood = -128.76966
Iteration 23:  log pseudolikelihood = -128.76966
Iteration 24:  log pseudolikelihood = -128.76966
Iteration 25:  log pseudolikelihood = -128.76966
Iteration 26:  log pseudolikelihood = -128.76966
Iteration 27:  log pseudolikelihood = -128.76966
Iteration 28:  log pseudolikelihood = -128.76966
Iteration 29:  log pseudolikelihood = -128.76966
Iteration 30:  log pseudolikelihood = -128.76966
Iteration 31:  log pseudolikelihood = -128.76966
Refining estimates:
Iteration 0:   log pseudolikelihood = -128.76966
Iteration 1:   log pseudolikelihood = -128.76966
Iteration 2:   log pseudolikelihood = -128.76966

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(28)    =     2272.38
Log pseudolikelihood =   -128.76966             Prob > chi2      =      0.0000

                                          (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------------
                              |               Robust
                           _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------------+----------------------------------------------------------------
                  ldr_carecat |
LDR, not in residential care  |   1.147811   .3677622     0.43   0.667     .6125516     2.15079
                         age1 |   1.038036   .1145065     0.34   0.735     .8362107    1.288573
                         age2 |   .9553487   .2230408    -0.20   0.845     .6045551    1.509691
                         age3 |   1.115431   .6643694     0.18   0.854     .3470987    3.584533
                         male |   .6491847   .2013145    -1.39   0.164     .3535148    1.192145
                              |
                  ethnicity_5 |
                       Mixed  |   1.870233   .8842514     1.32   0.185      .740364    4.724395
      Asian or Asian British  |   2.119755   1.063044     1.50   0.134     .7932561    5.664453
                       Black  |   1.389648   .7745545     0.59   0.555     .4660867    4.143267
                       Other  |   .7327277   .4350447    -0.52   0.600     .2288527    2.346006
                              |
                      cardiac |   1.464887   .5624462     0.99   0.320      .690214    3.109028
                           af |   1.088036   .4247308     0.22   0.829     .5062492    2.338419
                       dvt_pe |   .6281558   .3002933    -0.97   0.331     .2461194    1.603205
                              |
                      diabcat |
         Controlled diabetes  |   .7057847   .3601024    -0.68   0.495     .2596426     1.91853
       Uncontrolled diabetes  |   1.261913   .8549751     0.34   0.731     .3344422    4.761437
                              |
                        liver |   1.280039   .4540293     0.70   0.486     .6387077    2.565334
                       stroke |   .6184102   .2594012    -1.15   0.252     .2717864    1.407102
                          tia |     1.7982   .6612976     1.60   0.111     .8745892    3.697191
                     dementia |   .8305242   .3122145    -0.49   0.621     .3975253    1.735161
                              |
                     kidneyfn |
      Stage 3a/3b egfr 30-60  |   1.81e-15   2.13e-15   -28.95   0.000     1.82e-16    1.81e-14
           Stage 4/5 egfr<30  |   .5412152   .2642465    -1.26   0.209     .2078614    1.409179
                              |
                       spleen |   .4301635   .1483961    -2.45   0.014     .2187708    .8458195
                   transplant |   .9103883    .372224    -0.23   0.818     .4085093    2.028857
                     dialysis |   2.005296   1.130004     1.23   0.217     .6645351    6.051163
            immunosuppression |   1.031035   .3296938     0.10   0.924     .5509155    1.929576
                   cancerHaem |   .8240407    .128056    -1.25   0.213     .6076757    1.117443
                   autoimmune |   1.181308   .4390251     0.45   0.654       .57019    2.447408
                          ibd |   1.320442   .5189558     0.71   0.479     .6111993    2.852698
              cancerExhaem1yr |   1.03e-14   1.76e-14   -18.89   0.000     3.65e-16    2.91e-13
-----------------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Estimated failure rates
Number of records  =       563

  +---------------------------------------------+
  | ds    D        Y     Rate    Lower    Upper |
  |---------------------------------------------|
  |  0   38   0.0178   2134.1   1552.9   2932.9 |
  |  1   11   0.0045   2429.0   1345.2   4386.0 |
  +---------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.28975
Iteration 2:   log pseudolikelihood = -137.26151
Iteration 3:   log pseudolikelihood =  -137.2615
Refining estimates:
Iteration 0:   log pseudolikelihood =  -137.2615

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(9)     =        6.34
Log pseudolikelihood =    -137.2615             Prob > chi2      =      0.7050

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.ds |   1.267994   .4453217     0.68   0.499     .6370503    2.523833
                   age1 |   1.055593   .1001257     0.57   0.568     .8765122    1.271263
                   age2 |   .9113673   .1895409    -0.45   0.655     .6062692    1.370003
                   age3 |     1.2568   .6788471     0.42   0.672     .4360125     3.62271
                   male |   .6673453   .1961135    -1.38   0.169     .3751518    1.187119
                        |
            ethnicity_5 |
                 Mixed  |   1.558897   .7222101     0.96   0.338     .6287389    3.865133
Asian or Asian British  |   1.802527   .8464227     1.25   0.210     .7180892    4.524653
                 Black  |   1.439989   .7516404     0.70   0.485     .5176687    4.005589
                 Other  |   .8460814   .4728645    -0.30   0.765     .2829346    2.530103
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.26189
Iteration 2:   log pseudolikelihood = -137.23355
Iteration 3:   log pseudolikelihood = -137.23355
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.23355

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(10)    =        6.45
Log pseudolikelihood =   -137.23355             Prob > chi2      =      0.7765

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.ds |   1.262473   .4448367     0.66   0.508     .6328463    2.518523
                   age1 |    1.05727   .1027564     0.57   0.567     .8738908    1.279129
                   age2 |   .9082814   .1932867    -0.45   0.651     .5985226    1.378352
                   age3 |   1.268373   .7011898     0.43   0.667     .4292204     3.74812
                   male |   .6711522   .1956053    -1.37   0.171     .3790888    1.188232
                        |
            ethnicity_5 |
                 Mixed  |   1.529788   .7125394     0.91   0.361     .6139902    3.811545
Asian or Asian British  |   1.798718   .8427858     1.25   0.210     .7180164    4.506008
                 Black  |   1.425669   .7435349     0.68   0.497     .5129653    3.962318
                 Other  |   .8384472   .4604057    -0.32   0.748     .2858028    2.459717
                        |
                    imd |   1.022157   .0956651     0.23   0.815     .8508493    1.227956
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

note: resid_care_ldr omitted because of collinearity
Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.28975
Iteration 2:   log pseudolikelihood = -137.26151
Iteration 3:   log pseudolikelihood =  -137.2615
Refining estimates:
Iteration 0:   log pseudolikelihood =  -137.2615

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(9)     =        6.34
Log pseudolikelihood =    -137.2615             Prob > chi2      =      0.7050

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.ds |   1.267994   .4453217     0.68   0.499     .6370503    2.523833
                   age1 |   1.055593   .1001257     0.57   0.568     .8765122    1.271263
                   age2 |   .9113673   .1895409    -0.45   0.655     .6062692    1.370003
                   age3 |     1.2568   .6788471     0.42   0.672     .4360125     3.62271
                   male |   .6673453   .1961135    -1.38   0.169     .3751518    1.187119
                        |
            ethnicity_5 |
                 Mixed  |   1.558897   .7222101     0.96   0.338     .6287389    3.865133
Asian or Asian British  |   1.802527   .8464227     1.25   0.210     .7180892    4.524653
                 Black  |   1.439989   .7516404     0.70   0.485     .5176687    4.005589
                 Other  |   .8460814   .4728645    -0.30   0.765     .2829346    2.530103
                        |
         resid_care_ldr |          1  (omitted)
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -129.07834
Iteration 2:   log pseudolikelihood = -128.74539
Iteration 3:   log pseudolikelihood = -128.71932
Iteration 4:   log pseudolikelihood = -128.70997
Iteration 5:   log pseudolikelihood = -128.70654
Iteration 6:   log pseudolikelihood = -128.70528
Iteration 7:   log pseudolikelihood = -128.70482
Iteration 8:   log pseudolikelihood = -128.70464
Iteration 9:   log pseudolikelihood = -128.70458
Iteration 10:  log pseudolikelihood = -128.70456
Iteration 11:  log pseudolikelihood = -128.70455
Iteration 12:  log pseudolikelihood = -128.70455
Iteration 13:  log pseudolikelihood = -128.70455
Iteration 14:  log pseudolikelihood = -128.70455
Iteration 15:  log pseudolikelihood = -128.70455
Iteration 16:  log pseudolikelihood = -128.70455
Iteration 17:  log pseudolikelihood = -128.70455
Iteration 18:  log pseudolikelihood = -128.70455
Iteration 19:  log pseudolikelihood = -128.70455
Iteration 20:  log pseudolikelihood = -128.70455
Iteration 21:  log pseudolikelihood = -128.70455
Iteration 22:  log pseudolikelihood = -128.70455
Iteration 23:  log pseudolikelihood = -128.70455
Iteration 24:  log pseudolikelihood = -128.70455
Iteration 25:  log pseudolikelihood = -128.70455
Iteration 26:  log pseudolikelihood = -128.70455
Iteration 27:  log pseudolikelihood = -128.70455
Iteration 28:  log pseudolikelihood = -128.70455
Iteration 29:  log pseudolikelihood = -128.70455
Iteration 30:  log pseudolikelihood = -128.70455
Iteration 31:  log pseudolikelihood = -128.70455
Refining estimates:
Iteration 0:   log pseudolikelihood = -128.70455
Iteration 1:   log pseudolikelihood = -128.70455
Iteration 2:   log pseudolikelihood = -128.70455
Iteration 3:   log pseudolikelihood = -128.70455

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(28)    =     2436.27
Log pseudolikelihood =   -128.70455             Prob > chi2      =      0.0000

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.ds |   1.240629   .4648017     0.58   0.565     .5953043      2.5855
                   age1 |    1.04496   .1139254     0.40   0.687     .8439143      1.2939
                   age2 |   .9433561   .2183834    -0.25   0.801     .5992743    1.484997
                   age3 |   1.145504   .6777691     0.23   0.818     .3592194    3.652864
                   male |   .6508644   .1970769    -1.42   0.156     .3595448    1.178224
                        |
            ethnicity_5 |
                 Mixed  |   1.916721   .9059928     1.38   0.169     .7589522    4.840649
Asian or Asian British  |   2.156538    1.08625     1.53   0.127     .8035374    5.787729
                 Black  |   1.365215   .7605712     0.56   0.576     .4581319    4.068288
                 Other  |   .7456537   .4412701    -0.50   0.620     .2337787    2.378315
                        |
                cardiac |   1.428125    .544742     0.93   0.350     .6762151    3.016111
                     af |   1.120322   .4404926     0.29   0.773     .5183991     2.42115
                 dvt_pe |   .6430314   .3040664    -0.93   0.350     .2545245    1.624556
                        |
                diabcat |
   Controlled diabetes  |   .6838044   .3466655    -0.75   0.453     .2531639     1.84698
 Uncontrolled diabetes  |   1.253417   .8523036     0.33   0.740      .330592    4.752247
                        |
                  liver |   1.306787   .4586443     0.76   0.446     .6568369    2.599871
                 stroke |    .625845   .2591374    -1.13   0.258      .277983    1.409014
                    tia |   1.824218    .689737     1.59   0.112     .8694352    3.827508
               dementia |   .8417176    .317863    -0.46   0.648     .4015336    1.764456
                        |
               kidneyfn |
Stage 3a/3b egfr 30-60  |   6.67e-16   8.01e-16   -29.09   0.000     6.33e-17    7.02e-15
     Stage 4/5 egfr<30  |   .5226271   .2581158    -1.31   0.189     .1985177    1.375893
                        |
                 spleen |   .4304842    .148603    -2.44   0.015     .2188379    .8468213
             transplant |   .9266107   .3849685    -0.18   0.854      .410448    2.091879
               dialysis |   2.046793   1.162239     1.26   0.207      .672562    6.228959
      immunosuppression |   1.024797   .3238011     0.08   0.938     .5516793    1.903656
             cancerHaem |   .8353196   .1286975    -1.17   0.243     .6176013    1.129788
             autoimmune |   1.240823   .4726186     0.57   0.571     .5881586    2.617731
                    ibd |   1.330878   .5295524     0.72   0.473     .6101658    2.902878
        cancerExhaem1yr |   3.76e-15   6.45e-15   -19.38   0.000     1.31e-16    1.08e-13
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Estimated failure rates
Number of records  =       563

  +---------------------------------------------+
  | cp    D        Y     Rate    Lower    Upper |
  |---------------------------------------------|
  |  0   37   0.0177   2088.8   1513.4   2882.9 |
  |  1   12   0.0046   2596.9   1474.8   4572.7 |
  +---------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.45801
Iteration 2:   log pseudolikelihood = -137.43229
Iteration 3:   log pseudolikelihood = -137.43228
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.43228

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(9)     =        6.34
Log pseudolikelihood =   -137.43228             Prob > chi2      =      0.7053

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.cp |   1.102308   .3610393     0.30   0.766     .5801076    2.094581
                   age1 |   1.054521   .0991093     0.56   0.572     .8771116    1.267814
                   age2 |   .9113011   .1889986    -0.45   0.654     .6069146    1.368347
                   age3 |   1.261661   .6821906     0.43   0.667     .4372109     3.64078
                   male |   .6784055    .197266    -1.33   0.182     .3836877    1.199502
                        |
            ethnicity_5 |
                 Mixed  |   1.549021   .7234384     0.94   0.349     .6201849    3.868953
Asian or Asian British  |   1.793686   .8440276     1.24   0.214     .7131968     4.51111
                 Black  |   1.464068   .7620936     0.73   0.464     .5278178    4.061052
                 Other  |   .8486413   .4732659    -0.29   0.769     .2844661    2.531732
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.42281
Iteration 2:   log pseudolikelihood = -137.39702
Iteration 3:   log pseudolikelihood = -137.39702
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.39702

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(10)    =        6.54
Log pseudolikelihood =   -137.39702             Prob > chi2      =      0.7680

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.cp |   1.101106   .3614896     0.29   0.769     .5786051    2.095443
                   age1 |   1.056742   .1023768     0.57   0.569     .8739872    1.277713
                   age2 |   .9072928    .193435    -0.46   0.648     .5974082    1.377919
                   age3 |   1.276474   .7091709     0.44   0.660     .4296448      3.7924
                   male |   .6832725   .1969071    -1.32   0.186     .3884119    1.201975
                        |
            ethnicity_5 |
                 Mixed  |   1.516149   .7123557     0.89   0.376     .6036828    3.807808
Asian or Asian British  |   1.789751   .8406928     1.24   0.215      .712789    4.493908
                 Black  |   1.447478   .7519203     0.71   0.477     .5229246    4.006683
                 Other  |   .8411426    .461136    -0.32   0.752     .2872229    2.463316
                        |
                    imd |   1.025059   .0980719     0.26   0.796     .8497884     1.23648
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

note: resid_care_ldr omitted because of collinearity
Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -137.45801
Iteration 2:   log pseudolikelihood = -137.43229
Iteration 3:   log pseudolikelihood = -137.43228
Refining estimates:
Iteration 0:   log pseudolikelihood = -137.43228

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(9)     =        6.34
Log pseudolikelihood =   -137.43228             Prob > chi2      =      0.7053

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.cp |   1.102308   .3610393     0.30   0.766     .5801076    2.094581
                   age1 |   1.054521   .0991093     0.56   0.572     .8771116    1.267814
                   age2 |   .9113011   .1889986    -0.45   0.654     .6069146    1.368347
                   age3 |   1.261661   .6821906     0.43   0.667     .4372109     3.64078
                   male |   .6784055    .197266    -1.33   0.182     .3836877    1.199502
                        |
            ethnicity_5 |
                 Mixed  |   1.549021   .7234384     0.94   0.349     .6201849    3.868953
Asian or Asian British  |   1.793686   .8440276     1.24   0.214     .7131968     4.51111
                 Black  |   1.464068   .7620936     0.73   0.464     .5278178    4.061052
                 Other  |   .8486413   .4732659    -0.29   0.769     .2844661    2.531732
                        |
         resid_care_ldr |          1  (omitted)
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -129.12087
Iteration 2:   log pseudolikelihood = -128.82019
Iteration 3:   log pseudolikelihood = -128.79566
Iteration 4:   log pseudolikelihood = -128.78684
Iteration 5:   log pseudolikelihood =  -128.7836
Iteration 6:   log pseudolikelihood = -128.78241
Iteration 7:   log pseudolikelihood = -128.78197
Iteration 8:   log pseudolikelihood = -128.78181
Iteration 9:   log pseudolikelihood = -128.78175
Iteration 10:  log pseudolikelihood = -128.78173
Iteration 11:  log pseudolikelihood = -128.78172
Iteration 12:  log pseudolikelihood = -128.78172
Iteration 13:  log pseudolikelihood = -128.78172
Iteration 14:  log pseudolikelihood = -128.78172
Iteration 15:  log pseudolikelihood = -128.78172
Iteration 16:  log pseudolikelihood = -128.78172
Iteration 17:  log pseudolikelihood = -128.78172
Iteration 18:  log pseudolikelihood = -128.78172
Iteration 19:  log pseudolikelihood = -128.78172
Iteration 20:  log pseudolikelihood = -128.78172
Iteration 21:  log pseudolikelihood = -128.78172
Iteration 22:  log pseudolikelihood = -128.78172
Iteration 23:  log pseudolikelihood = -128.78172
Iteration 24:  log pseudolikelihood = -128.78172
Iteration 25:  log pseudolikelihood = -128.78172
Iteration 26:  log pseudolikelihood = -128.78172
Iteration 27:  log pseudolikelihood = -128.78172
Iteration 28:  log pseudolikelihood = -128.78172
Iteration 29:  log pseudolikelihood = -128.78172
Iteration 30:  log pseudolikelihood = -128.78172
Iteration 31:  log pseudolikelihood = -128.78172
Iteration 32:  log pseudolikelihood = -128.78172
Iteration 33:  log pseudolikelihood = -128.78172
Refining estimates:
Iteration 0:   log pseudolikelihood = -128.78172
Iteration 1:   log pseudolikelihood = -128.78172
Iteration 2:   log pseudolikelihood = -128.78172
Iteration 3:   log pseudolikelihood = -128.78172

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(28)    =     2896.66
Log pseudolikelihood =   -128.78172             Prob > chi2      =      0.0000

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   1.cp |   1.167205   .4501928     0.40   0.689     .5480716    2.485747
                   age1 |   1.043839   .1125925     0.40   0.691     .8449281    1.289578
                   age2 |   .9438756    .217321    -0.25   0.802     .6010786    1.482171
                   age3 |   1.147187   .6769154     0.23   0.816     .3608857     3.64669
                   male |   .6661622   .1998051    -1.35   0.176     .3700626    1.199181
                        |
            ethnicity_5 |
                 Mixed  |   1.886366   .9053294     1.32   0.186     .7363875    4.832209
Asian or Asian British  |    2.14194   1.093804     1.49   0.136     .7872852    5.827501
                 Black  |     1.3885   .7771353     0.59   0.558     .4635891    4.158708
                 Other  |   .7543588   .4502926    -0.47   0.637     .2341412    2.430402
                        |
                cardiac |   1.462665   .5671964     0.98   0.327     .6840113    3.127708
                     af |   1.110118   .4358857     0.27   0.790     .5142174    2.396579
                 dvt_pe |   .6409251   .3032569    -0.94   0.347     .2535462    1.620159
                        |
                diabcat |
   Controlled diabetes  |   .7247529   .3820099    -0.61   0.541     .2579469    2.036337
 Uncontrolled diabetes  |   1.290978   .8968548     0.37   0.713     .3308116    5.037984
                        |
                  liver |   1.316529   .4605726     0.79   0.432     .6632039    2.613446
                 stroke |   .6208875   .2528558    -1.17   0.242     .2794872    1.379316
                    tia |   1.781782   .6581823     1.56   0.118     .8638222    3.675231
               dementia |    .804341   .3282629    -0.53   0.594     .3614538    1.789895
                        |
               kidneyfn |
Stage 3a/3b egfr 30-60  |   8.67e-17   1.02e-16   -31.47   0.000     8.66e-18    8.67e-16
     Stage 4/5 egfr<30  |   .5263453   .2653104    -1.27   0.203     .1959804    1.413607
                        |
                 spleen |   .4266233   .1474022    -2.47   0.014     .2167439    .8397351
             transplant |   .9316874   .3978729    -0.17   0.868     .4034302    2.151652
               dialysis |   2.039351   1.159252     1.25   0.210     .6693195    6.213701
      immunosuppression |   1.011213   .3292062     0.03   0.973     .5342307    1.914062
             cancerHaem |   .8264922   .1267485    -1.24   0.214     .6119288    1.116289
             autoimmune |   1.193491    .460477     0.46   0.647     .5602803    2.542335
                    ibd |   1.299796   .5286677     0.64   0.519     .5856862      2.8846
        cancerExhaem1yr |   5.07e-16   8.70e-16   -20.54   0.000     1.76e-17    1.46e-14
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Estimated failure rates
Number of records  =       563

  +------------------------------------------------------------------+
  |            ldr_group    D        Y      Rate     Lower     Upper |
  |------------------------------------------------------------------|
  | No DS, no CP, no LDR   16   0.0092   1743.96   1068.40   2846.66 |
  |       DS but not LDR    4   0.0019   2130.36    799.56   5676.15 |
  |           DS and LDR    3   0.0017   1808.77    583.37   5608.20 |
  |       CP but not LDR   10   0.0030   3280.49   1765.08   6096.95 |
  |           CP and LDR    2   0.0016   1271.76    318.06   5085.06 |
  |------------------------------------------------------------------|
  |  LD with no DS or CP   14   0.0050   2798.39   1657.35   4725.00 |
  +------------------------------------------------------------------+
   Notes: Rate = D/Y = failures/person-time (per 10000).
          Lower and Upper are bounds of 95% confidence intervals.


         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -135.46032
Iteration 2:   log pseudolikelihood = -135.40514
Iteration 3:   log pseudolikelihood = -135.40506
Refining estimates:
Iteration 0:   log pseudolikelihood = -135.40506

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(13)    =       10.76
Log pseudolikelihood =   -135.40506             Prob > chi2      =      0.6305

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
              ldr_group |
        DS but not LDR  |   1.142182   .6616297     0.23   0.818     .3669957    3.554752
            DS and LDR  |   1.380188   .8445057     0.53   0.598     .4160132    4.578985
        CP but not LDR  |   1.786657   .7760526     1.34   0.182     .7626289    4.185711
            CP and LDR  |   .6283651   .4285734    -0.68   0.496     .1650646    2.392049
   LD with no DS or CP  |   1.723743   .6913399     1.36   0.175     .7853835    3.783233
                        |
                   age1 |   1.048104   .0999461     0.49   0.622     .8694297    1.263496
                   age2 |   .9261987   .1947596    -0.36   0.715     .6133591      1.3986
                   age3 |   1.209647   .6612444     0.35   0.728     .4143387    3.531519
                   male |   .6938276   .2053439    -1.24   0.217     .3884468    1.239286
                        |
            ethnicity_5 |
                 Mixed  |   1.395531   .6629492     0.70   0.483     .5500158    3.540822
Asian or Asian British  |   1.713341   .7955705     1.16   0.246     .6896011    4.256862
                 Black  |   1.420269   .7486867     0.67   0.506      .505434    3.990953
                 Other  |   .8407671    .470701    -0.31   0.757     .2806294    2.518943
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -135.35837
Iteration 2:   log pseudolikelihood = -135.30554
Iteration 3:   log pseudolikelihood = -135.30547
Refining estimates:
Iteration 0:   log pseudolikelihood = -135.30547

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(14)    =       11.03
Log pseudolikelihood =   -135.30547             Prob > chi2      =      0.6838

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
              ldr_group |
        DS but not LDR  |   1.130805   .6558055     0.21   0.832      .362858    3.524021
            DS and LDR  |   1.365138   .8404172     0.51   0.613     .4084635     4.56247
        CP but not LDR  |    1.79338   .7830044     1.34   0.181     .7621327    4.220014
            CP and LDR  |   .6298871   .4324225    -0.67   0.501     .1640235    2.418908
   LD with no DS or CP  |   1.763194   .7137556     1.40   0.161     .7974929    3.898285
                        |
                   age1 |   1.051406   .1031473     0.51   0.609     .8674889    1.274315
                   age2 |   .9199952   .1987697    -0.39   0.700     .6023918    1.405051
                   age3 |   1.232191   .6931015     0.37   0.710     .4091485    3.710862
                   male |   .7026698   .2060387    -1.20   0.229      .395512    1.248369
                        |
            ethnicity_5 |
                 Mixed  |   1.344562   .6443063     0.62   0.537     .5256418    3.439313
Asian or Asian British  |   1.705757   .7908309     1.15   0.249     .6875103    4.232092
                 Black  |   1.391653   .7300694     0.63   0.529     .4977203    3.891135
                 Other  |   .8295164   .4568205    -0.34   0.734     .2818787    2.441112
                        |
                    imd |   1.043197   .1027519     0.43   0.668     .8600532     1.26534
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

note: resid_care_ldr omitted because of collinearity
Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood = -135.46032
Iteration 2:   log pseudolikelihood = -135.40514
Iteration 3:   log pseudolikelihood = -135.40506
Refining estimates:
Iteration 0:   log pseudolikelihood = -135.40506

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(13)    =       10.76
Log pseudolikelihood =   -135.40506             Prob > chi2      =      0.6305

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
              ldr_group |
        DS but not LDR  |   1.142182   .6616297     0.23   0.818     .3669957    3.554752
            DS and LDR  |   1.380188   .8445057     0.53   0.598     .4160132    4.578985
        CP but not LDR  |   1.786657   .7760526     1.34   0.182     .7626289    4.185711
            CP and LDR  |   .6283651   .4285734    -0.68   0.496     .1650646    2.392049
   LD with no DS or CP  |   1.723743   .6913399     1.36   0.175     .7853835    3.783233
                        |
                   age1 |   1.048104   .0999461     0.49   0.622     .8694297    1.263496
                   age2 |   .9261987   .1947596    -0.36   0.715     .6133591      1.3986
                   age3 |   1.209647   .6612444     0.35   0.728     .4143387    3.531519
                   male |   .6938276   .2053439    -1.24   0.217     .3884468    1.239286
                        |
            ethnicity_5 |
                 Mixed  |   1.395531   .6629492     0.70   0.483     .5500158    3.540822
Asian or Asian British  |   1.713341   .7955705     1.16   0.246     .6896011    4.256862
                 Black  |   1.420269   .7486867     0.67   0.506      .505434    3.990953
                 Other  |   .8407671    .470701    -0.31   0.757     .2806294    2.518943
                        |
         resid_care_ldr |          1  (omitted)
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

         failure _d:  noncoviddeath2
   analysis time _t:  stime_noncoviddeath2/365.25

Iteration 0:   log pseudolikelihood = -141.07428
Iteration 1:   log pseudolikelihood =  -127.4353
Iteration 2:   log pseudolikelihood = -126.94025
Iteration 3:   log pseudolikelihood = -126.91726
Iteration 4:   log pseudolikelihood = -126.90922
Iteration 5:   log pseudolikelihood = -126.90626
Iteration 6:   log pseudolikelihood = -126.90518
Iteration 7:   log pseudolikelihood = -126.90478
Iteration 8:   log pseudolikelihood = -126.90463
Iteration 9:   log pseudolikelihood = -126.90458
Iteration 10:  log pseudolikelihood = -126.90456
Iteration 11:  log pseudolikelihood = -126.90455
Iteration 12:  log pseudolikelihood = -126.90455
Iteration 13:  log pseudolikelihood = -126.90455
Iteration 14:  log pseudolikelihood = -126.90455
Iteration 15:  log pseudolikelihood = -126.90455
Iteration 16:  log pseudolikelihood = -126.90455
Iteration 17:  log pseudolikelihood = -126.90455
Iteration 18:  log pseudolikelihood = -126.90455
Iteration 19:  log pseudolikelihood = -126.90455
Iteration 20:  log pseudolikelihood = -126.90455
Iteration 21:  log pseudolikelihood = -126.90455
Iteration 22:  log pseudolikelihood = -126.90455
Iteration 23:  log pseudolikelihood = -126.90455
Iteration 24:  log pseudolikelihood = -126.90455
Iteration 25:  log pseudolikelihood = -126.90455
Iteration 26:  log pseudolikelihood = -126.90455
Iteration 27:  log pseudolikelihood = -126.90455
Iteration 28:  log pseudolikelihood = -126.90455
Iteration 29:  log pseudolikelihood = -126.90455
Iteration 30:  log pseudolikelihood = -126.90455
Iteration 31:  log pseudolikelihood = -126.90455
Iteration 32:  log pseudolikelihood = -126.90455
Iteration 33:  log pseudolikelihood = -126.90455
Iteration 34:  log pseudolikelihood = -126.90455
Refining estimates:
Iteration 0:   log pseudolikelihood = -126.90455
Iteration 1:   log pseudolikelihood = -126.90455
Iteration 2:   log pseudolikelihood = -126.90455
Iteration 3:   log pseudolikelihood = -126.90455
Iteration 4:   log pseudolikelihood = -126.90455
Iteration 5:   log pseudolikelihood = -126.90455
Iteration 6:   log pseudolikelihood = -126.90455
Iteration 7:   log pseudolikelihood = -126.90455
Iteration 8:   log pseudolikelihood = -126.90455
Iteration 9:   log pseudolikelihood = -126.90455

Stratified Cox regr. -- Breslow method for ties

No. of subjects      =          563             Number of obs    =         563
No. of failures      =           49
Time at risk         =  223.3456537
                                                Wald chi2(30)    =       42.22
Log pseudolikelihood =   -126.90455             Prob > chi2      =      0.0685

                                    (Std. Err. adjusted for 392 clusters in household_id)
-----------------------------------------------------------------------------------------
                        |               Robust
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
              ldr_group |
        DS but not LDR  |   1.027395   .5841559     0.05   0.962     .3371021    3.131219
            DS and LDR  |   1.231932   .8655791     0.30   0.767     .3108252    4.882669
        CP but not LDR  |   1.898203   .9519052     1.28   0.201     .7103699     5.07225
            CP and LDR  |   .6586789   .4512331    -0.61   0.542     .1720092    2.522295
   LD with no DS or CP  |   1.722893   .7433899     1.26   0.207     .7395776    4.013588
                        |
                   age1 |   1.040804   .1122499     0.37   0.711     .8424958    1.285791
                   age2 |   .9503724   .2195292    -0.22   0.826     .6043276    1.494567
                   age3 |   1.130348   .6698293     0.21   0.836     .3538356    3.610962
                   male |   .6712496   .2057318    -1.30   0.193     .3681279    1.223966
                        |
            ethnicity_5 |
                 Mixed  |   1.684292   .8050639     1.09   0.275       .66002    4.298112
Asian or Asian British  |   1.996281   .9998256     1.38   0.168     .7480014    5.327715
                 Black  |   1.369931    .758754     0.57   0.570     .4626469    4.056465
                 Other  |   .7106317   .4244526    -0.57   0.567     .2204099    2.291174
                        |
                cardiac |   1.509826   .5812315     1.07   0.285     .7099757    3.210779
                     af |   .9698033   .4114224    -0.07   0.942     .4222562    2.227364
                 dvt_pe |   .6193778   .2955976    -1.00   0.315     .2430638    1.578305
                        |
                diabcat |
   Controlled diabetes  |   .7655318   .3973195    -0.51   0.607     .2768089    2.117124
 Uncontrolled diabetes  |   1.302769   .8847824     0.39   0.697     .3441669    4.931346
                        |
                  liver |   1.226464   .4362878     0.57   0.566     .6107425    2.462925
                 stroke |   .6218665   .2513702    -1.18   0.240     .2815952    1.373311
                    tia |   1.731553   .6428451     1.48   0.139     .8364201    3.584655
               dementia |   .7360086    .311759    -0.72   0.469      .320871    1.688245
                        |
               kidneyfn |
Stage 3a/3b egfr 30-60  |   7.35e-20          .        .       .            .           .
     Stage 4/5 egfr<30  |   .5576897   .2817722    -1.16   0.248     .2071686    1.501279
                        |
                 spleen |   .4132277   .1403233    -2.60   0.009     .2123927     .803969
             transplant |   .9096604   .4016679    -0.21   0.830     .3828462    2.161395
               dialysis |   2.021828   1.160525     1.23   0.220     .6563817    6.227764
      immunosuppression |   1.032153   .3322762     0.10   0.922     .5491879    1.939847
             cancerHaem |   .8189028   .1251566    -1.31   0.191     .6069311    1.104906
             autoimmune |   1.132395    .459137     0.31   0.759     .5115321    2.506821
                    ibd |   1.210452   .4789019     0.48   0.629     .5574155    2.628548
        cancerExhaem1yr |   4.46e-18          .        .       .            .           .
-----------------------------------------------------------------------------------------
                                                         Stratified by stpcode

. postclose `ldrresults'

. 
. use `ldrfile', clear

. 
. *************************
. *  Tidy output for HRs  *
. *************************
. 
. * Exposure
. rename exposure exp

. gen     exposure = 1 if exp=="ldr"
(124 missing values generated)

. replace exposure = 2 if exp=="ldr_cat"
(24 real changes made)

. replace exposure = 3 if exp=="ldr_carecat"
(20 real changes made)

. replace exposure = 4 if exp=="ds"
(16 real changes made)

. replace exposure = 5 if exp=="cp"
(16 real changes made)

. replace exposure = 6 if exp=="ldr_group"
(48 real changes made)

. 
. label define exposure   1 "Learning disability register"        ///
>                                                 2 "LDR Severe vs mild"                          ///
>                                                 3 "LDR by residential care"                     ///
>                                                 4 "Down's syndrome"                                     ///
>                                                 5 "Cerebral Palsy"                                      ///
>                                                 6 "Combined grouping"                           

. label values exposure exposure                                          

. drop exp

. 
. * Categories of exposure
. gen category     = "No"                                         if expcat==0
(92 missing values generated)

. replace category = "Yes"                                        if inlist(exposure, 1, 4, 5) & expcat==1
variable category was str2 now str3
(24 real changes made)

. 
. replace category = "LDR, mild"                          if inlist(exposure, 2) & expcat==1
variable category was str3 now str9
(8 real changes made)

. replace category = "LDR, profound"                      if inlist(exposure, 2) & expcat==2
variable category was str9 now str13
(8 real changes made)

. 
. replace category = "LDR, community"             if inlist(exposure, 3) & expcat==1
variable category was str13 now str14
(8 real changes made)

. replace category = "LDR, residential care"      if inlist(exposure, 3) & expcat==2
variable category was str14 now str21
(4 real changes made)

. 
. replace category = "DS but not LDR"             if inlist(exposure, 6) & expcat==1
(8 real changes made)

. replace category = "DS and LDR"                         if inlist(exposure, 6) & expcat==2
(8 real changes made)

. replace category = "CP but not LDR"             if inlist(exposure, 6) & expcat==3
(8 real changes made)

. replace category = "CP and LDR"                         if inlist(exposure, 6) & expcat==4
(8 real changes made)

. replace category = "LDR with no DS or CP"       if inlist(exposure, 6) & expcat==5
(8 real changes made)

. 
. * Model adjustment
. gen     adjustment = 1 if model=="Confounders"
(105 missing values generated)

. replace adjustment = 2 if model=="Confounders+IMD"
(35 real changes made)

. replace adjustment = 3 if model=="Confounders+Resid"
(35 real changes made)

. replace adjustment = 4 if model=="Confounders_Comorb"
(35 real changes made)

. label define adj        1 "Confounders"                         ///     
>                                         2 "Confounders with IMD"        ///
>                                         3 "Confounders with care"       ///
>                                         4 "Confounders with comorbidities"      

. label values adjustment adj

. drop model

. 
. * Hazard ratio with 95% confidence interval
. gen cl = exp(lnhr - invnorm(0.975)*sehr)

. gen cu = exp(lnhr + invnorm(0.975)*sehr)

. gen hr = exp(lnhr)

. 
. gen hr_ci =   string(round(hr, 0.01)) + " (" ///
>                         + string(round(cl, 0.01)) + ", " ///
>                         + string(round(cu, 0.01)) + ")"

. replace hr_ci = "" if expcat==0
(48 real changes made)

. drop cl cu hr lnhr sehr

. 
. * Put in wide format
. reshape wide hr_ci, i(wave exposure expcat) j(adjust)
(note: j = 1 2 3 4)

Data                               long   ->   wide
-----------------------------------------------------------------------------
Number of obs.                      140   ->      35
Number of variables                   6   ->       8
j variable (4 values)        adjustment   ->   (dropped)
xij variables:
                                  hr_ci   ->   hr_ci1 hr_ci2 ... hr_ci4
-----------------------------------------------------------------------------

. rename hr_ci1 hr_conf

. rename hr_ci2 hr_conf_imd

. rename hr_ci3 hr_conf_resid

. rename hr_ci4 hr_conf_comorb

. 
. 
. order wave exposure category hr*

. sort wave exposure expcat

. 
. * Save data
. outsheet using "output/output_hrs_main_noncovid", replace

. 
. 
. 
. ***************************
. *  Tidy output for rates  *
. ***************************
. 
. forvalues i = 1 (1) 2 {
  2.         local expnow = "ldr"
  3.         use "analysis/data_temp_`expnow'_`i'", clear
  4.         gen exp = "`expnow'"
  5.         foreach exp in ldr_cat ldr_carecat ds cp ldr_group {
  6.                 rename `expnow' `exp'
  7.                 append using "analysis/data_temp_`exp'_`i'"
  8.                 erase "analysis/data_temp_`expnow'_`i'.dta"
  9.                 replace exp = "`exp'" if exp==""
 10.                 local expnow = "`exp'"
 11.         }
 12.         erase "analysis/data_temp_`expnow'_`i'.dta"
 13.         gen wave = `i'
 14.         save "analysis/data_temp_`i'.dta"
 15. }
(Analysis dataset, wave 1 (1 Mar - 31 Aug 20), for learning disability work)
variable exp was str3 now str7
(3 real changes made)
variable exp was str7 now str11
(3 real changes made)
(2 real changes made)
(2 real changes made)
(6 real changes made)
file analysis/data_temp_1.dta saved
(Analysis dataset, wave 2 (1 Sept 20 - latest), for learning disability work)
variable exp was str3 now str7
(3 real changes made)
variable exp was str7 now str11
(2 real changes made)
(2 real changes made)
(2 real changes made)
(6 real changes made)
file analysis/data_temp_2.dta saved

. use "analysis/data_temp_1.dta"
(Analysis dataset, wave 1 (1 Mar - 31 Aug 20), for learning disability work)

. append using "analysis/data_temp_2.dta"

. 
. erase "analysis/data_temp_1.dta"

. erase "analysis/data_temp_2.dta"

. 
. 
. * Exposure
. gen     exposure = 1 if exp=="ldr"
(31 missing values generated)

. replace exposure = 2 if exp=="ldr_cat"
(6 real changes made)

. replace exposure = 3 if exp=="ldr_carecat"
(5 real changes made)

. replace exposure = 4 if exp=="ds"
(4 real changes made)

. replace exposure = 5 if exp=="cp"
(4 real changes made)

. replace exposure = 6 if exp=="ldr_group"
(12 real changes made)

. 
. label define exposure   1 "Learning disability register"        ///
>                                                 2 "LDR Severe vs mild"                          ///
>                                                 3 "LDR by residential care"                     ///
>                                                 4 "Down's syndrome"                                     ///
>                                                 5 "Cerebral Palsy"                                      ///
>                                                 6 "Combined grouping"                           

. label values exposure exposure                                          

. drop exp

. 
. * Categories of exposure
. rename ldr_group expcat

. gen category     = "No"                                         if expcat==0
(23 missing values generated)

. replace category = "Yes"                                        if inlist(exposure, 1, 4, 5) & expcat==1
variable category was str2 now str3
(6 real changes made)

. 
. replace category = "LDR, mild"                          if inlist(exposure, 2) & expcat==1
variable category was str3 now str9
(2 real changes made)

. replace category = "LDR, profound"                      if inlist(exposure, 2) & expcat==2
variable category was str9 now str13
(2 real changes made)

. 
. replace category = "LDR, community"             if inlist(exposure, 3) & expcat==1
variable category was str13 now str14
(2 real changes made)

. replace category = "LDR, residential care"      if inlist(exposure, 3) & expcat==2
variable category was str14 now str21
(1 real change made)

. 
. replace category = "DS but not LDR"             if inlist(exposure, 6) & expcat==1
(2 real changes made)

. replace category = "DS and LDR"                         if inlist(exposure, 6) & expcat==2
(2 real changes made)

. replace category = "CP but not LDR"             if inlist(exposure, 6) & expcat==3
(2 real changes made)

. replace category = "CP and LDR"                         if inlist(exposure, 6) & expcat==4
(2 real changes made)

. replace category = "LDR with no DS or CP"       if inlist(exposure, 6) & expcat==5
(2 real changes made)

. 
. * Rename remaining variables
. rename _D events

. rename _Y pyr_10000

. rename _Rate rate_per_10000

. rename _Lower rate_cl

. rename _Upper rate_cu

. 
. order wave exposure category events pyr rate*

. sort wave exposure expcat

. 
. 
. * Save data
. outsheet using "output/output_rates_noncovid", replace

. 
. 
. 
. log close
      name:  <unnamed>
       log:  C:\Users\emsuewil\Documents\Work\Covid\OpenSAFELY\Absolute_risks\absolute-risks-covid-research\logs/AL008_cox_regression_n
> oncovid.log
  log type:  text
 closed on:  12 Feb 2021, 18:19:04
---------------------------------------------------------------------------------------------------------------------------------------
